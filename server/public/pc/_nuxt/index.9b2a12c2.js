import{_ as f}from"./items.vue_vue_type_script_setup_true_lang.431c3035.js";import{a as h,bw as k,e as w,w as x,U as E,K as A,o as a,f as o,h as m,u as e,t as c,m as v,G as B,b8 as C,i as _,c as D}from"./entry.06e31900.js";import{u as q}from"./asyncData.01194602.js";import{a as F,e as z}from"./empty_news.85a64063.js";import{g as b}from"./news.50c5a1de.js";import{E as N}from"./index.ee5adf2e.js";import"./debounce.7064df80.js";import"./index.81b50b3d.js";import"./index.c85379b1.js";import"./_getTag.5cd86efc.js";const S={class:"min-h-full flex flex-col"},U={class:"text-4xl mb-5"},V={key:0},$={key:1},j={key:0,class:"bg-white px-5 rounded overflow-hidden"},I={key:0,class:"pt-5 text-tx-secondary"},L={class:"py-4 flex justify-end"},G={key:1,class:"flex-1 flex justify-center items-center"},X=h({__name:"index",async setup(K){let n,l;const s=k(),r=w({page_no:1,page_size:15,keyword:s.query.keywords,cid:s.query.cid||"",sort:s.params.source}),{data:i,refresh:d}=([n,l]=x(()=>q(()=>b(r),{initialCache:!1},"$ewxCUYuASd")),n=await n,l(),n),y=E(()=>{switch(s.params.source){case"hot":return"\u70ED\u95E8\u8D44\u8BAF";case"new":return" \u6700\u65B0\u8D44\u8BAF";default:return"\u5168\u90E8\u8D44\u8BAF"}});return A(()=>s.query.keywords,p=>{r.keyword=p,d()}),(p,u)=>{const g=f;return a(),o("div",S,[m("div",U,[e(s).query.keywords?(a(),o("span",V,' \u67E5\u627E"'+c(e(s).query.keywords)+'" ',1)):(a(),o("span",$,c(e(s).query.name||e(y)),1))]),e(i).lists.length?(a(),o("div",j,[e(s).query.keywords?(a(),o("div",I," \u4E3A\u60A8\u627E\u5230\u76F8\u5173\u7ED3\u679C "+c(e(i).count)+"\u4E2A ",1)):v("",!0),(a(!0),o(B,null,C(e(i).lists,t=>(a(),D(g,{key:t.id,id:t.id,title:t.title,desc:t.desc,click:t.click,author:t.author,"create-time":t.create_time,image:t.image,"only-title":!1},null,8,["id","title","desc","click","author","create-time","image"]))),128)),m("div",L,[_(e(N),{"current-page":r.page_no,"onUpdate:current-page":u[0]||(u[0]=t=>r.page_no=t),total:e(i).count,"page-size":r.page_size,"hide-on-single-page":"",onCurrentChange:u[1]||(u[1]=t=>e(d)())},null,8,["current-page","total","page-size"])])])):(a(),o("div",G,[_(e(F),{image:e(z),description:"\u6682\u65E0\u8D44\u8BAF","image-size":250},null,8,["image"])]))])}}});export{X as default};
