import{_ as Ae}from"./card.vue_vue_type_script_setup_true_lang.bf05a34a.js";import{s as ue,b2 as Te,b3 as Be,O as ie,b4 as De,a as U,ae as ce,r as _,U as $,u as e,K as F,a9 as fe,aR as Oe,aP as Pe,af as Le,o as p,f as k,h as D,c as j,j as O,ah as K,X as b,b5 as H,i as M,F as oe,b6 as ze,al as q,am as ne,m as P,b7 as Ve,W as ve,A as de,G as me,b8 as pe,t as Fe,Y as he,aI as He,M as _e,S as Ue,e as Re,J as We,b9 as je,ao as Ke,aU as qe,ba as Je,w as Xe}from"./entry.0685df65.js";import{u as Ye}from"./asyncData.2538b113.js";import{t as le,E as Ge}from"./empty_news.6a2f2e29.js";import"./items.vue_vue_type_script_setup_true_lang.3d5ce42c.js";import"./debounce.26a1e516.js";const ge=Symbol("carouselContextKey"),Qe=(g,m,f)=>Te(g.subTree).filter(o=>{var c;return Be(o)&&((c=o.type)==null?void 0:c.name)===m&&!!o.component}).map(o=>o.component.uid).map(o=>f[o]).filter(o=>!!o),Ze=(g,m)=>{const f={},a=ue([]);return{children:a,addChild:c=>{f[c.uid]=c,a.value=Qe(g,m,f)},removeChild:c=>{delete f[c],a.value=a.value.filter(y=>y.uid!==c)}}},xe=ie({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),et={change:(g,m)=>[g,m].every(De)},tt=["onMouseenter","onMouseleave"],at=["onMouseenter","onClick"],st={key:0},re=300,ot=U({name:"ElCarousel"}),nt=U({...ot,props:xe,emits:et,setup(g,{expose:m,emit:f}){const a=g,l=ce("carousel"),{children:o,addChild:c,removeChild:y}=Ze(_e(),"ElCarouselItem"),s=_(-1),h=_(null),C=_(!1),S=_(),N=$(()=>a.arrow!=="never"&&!e(A)),L=$(()=>o.value.some(t=>t.props.label.toString().length>0)),J=$(()=>{const t=[l.b(),l.m(a.direction)];return e(z)&&t.push(l.m("card")),t}),X=$(()=>{const t=[l.e("indicators"),l.em("indicators",a.direction)];return L.value&&t.push(l.em("indicators","labels")),(a.indicatorPosition==="outside"||e(z))&&t.push(l.em("indicators","outside")),t}),z=$(()=>a.type==="card"),A=$(()=>a.direction==="vertical"),R=le(t=>{i(t)},re,{trailing:!0}),Y=le(t=>{Ce(t)},re);function n(){h.value&&(clearInterval(h.value),h.value=null)}function r(){a.interval<=0||!a.autoplay||h.value||(h.value=setInterval(()=>v(),a.interval))}const v=()=>{s.value<o.value.length-1?s.value=s.value+1:a.loop&&(s.value=0)};function i(t){if(He(t)){const I=o.value.filter(B=>B.props.name===t);I.length>0&&(t=o.value.indexOf(I[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=o.value.length,d=s.value;t<0?s.value=a.loop?u-1:0:t>=u?s.value=a.loop?0:u-1:s.value=t,d===s.value&&w(d),ee()}function w(t){o.value.forEach((u,d)=>{u.translateItem(d,s.value,t)})}function T(t,u){var d,I,B,te;const V=e(o),ae=V.length;if(ae===0||!t.states.inStage)return!1;const ke=u+1,Se=u-1,se=ae-1,Ee=V[se].states.active,$e=V[0].states.active,Me=(I=(d=V[ke])==null?void 0:d.states)==null?void 0:I.active,Ne=(te=(B=V[Se])==null?void 0:B.states)==null?void 0:te.active;return u===se&&$e||Me?"left":u===0&&Ee||Ne?"right":!1}function E(){C.value=!0,a.pauseOnHover&&n()}function G(){C.value=!1,r()}function Z(t){e(A)||o.value.forEach((u,d)=>{t===T(u,d)&&(u.states.hover=!0)})}function x(){e(A)||o.value.forEach(t=>{t.states.hover=!1})}function Ie(t){s.value=t}function Ce(t){a.trigger==="hover"&&t!==s.value&&(s.value=t)}function we(){i(s.value-1)}function be(){i(s.value+1)}function ee(){n(),r()}F(()=>s.value,(t,u)=>{w(u),u>-1&&f("change",t,u)}),F(()=>a.autoplay,t=>{t?r():n()}),F(()=>a.loop,()=>{i(s.value)}),F(()=>a.interval,()=>{ee()}),F(()=>o.value,()=>{o.value.length>0&&i(a.initialIndex)});const Q=ue();return fe(()=>{Q.value=Oe(S.value,()=>{w()}),r()}),Pe(()=>{n(),S.value&&Q.value&&Q.value.stop()}),Le(ge,{root:S,isCardType:z,isVertical:A,items:o,loop:a.loop,addItem:c,removeItem:y,setActiveItem:i}),m({setActiveItem:i,prev:we,next:be}),(t,u)=>(p(),k("div",{ref_key:"root",ref:S,class:b(e(J)),onMouseenter:H(E,["stop"]),onMouseleave:H(G,["stop"])},[D("div",{class:b(e(l).e("container")),style:de({height:t.height})},[e(N)?(p(),j(ne,{key:0,name:"carousel-arrow-left",persisted:""},{default:O(()=>[K(D("button",{type:"button",class:b([e(l).e("arrow"),e(l).em("arrow","left")]),onMouseenter:u[0]||(u[0]=d=>Z("left")),onMouseleave:x,onClick:u[1]||(u[1]=H(d=>e(R)(s.value-1),["stop"]))},[M(e(oe),null,{default:O(()=>[M(e(ze))]),_:1})],34),[[q,(t.arrow==="always"||C.value)&&(a.loop||s.value>0)]])]),_:1})):P("v-if",!0),e(N)?(p(),j(ne,{key:1,name:"carousel-arrow-right",persisted:""},{default:O(()=>[K(D("button",{type:"button",class:b([e(l).e("arrow"),e(l).em("arrow","right")]),onMouseenter:u[2]||(u[2]=d=>Z("right")),onMouseleave:x,onClick:u[3]||(u[3]=H(d=>e(R)(s.value+1),["stop"]))},[M(e(oe),null,{default:O(()=>[M(e(Ve))]),_:1})],34),[[q,(t.arrow==="always"||C.value)&&(a.loop||s.value<e(o).length-1)]])]),_:1})):P("v-if",!0),ve(t.$slots,"default")],6),t.indicatorPosition!=="none"?(p(),k("ul",{key:0,class:b(e(X))},[(p(!0),k(me,null,pe(e(o),(d,I)=>(p(),k("li",{key:I,class:b([e(l).e("indicator"),e(l).em("indicator",t.direction),e(l).is("active",I===s.value)]),onMouseenter:B=>e(Y)(I),onClick:H(B=>Ie(I),["stop"])},[D("button",{class:b(e(l).e("button"))},[e(L)?(p(),k("span",st,Fe(d.props.label),1)):P("v-if",!0)],2)],42,at))),128))],2)):P("v-if",!0)],42,tt))}});var lt=he(nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const rt=ie({name:{type:String,default:""},label:{type:[String,Number],default:""}}),W=.83,ut=U({name:"ElCarouselItem"}),it=U({...ut,props:rt,setup(g){const m=g,f=ce("carousel"),a=Ue(ge),l=_e(),o=_(!1),c=_(0),y=_(1),s=_(!1),h=_(!1),C=_(!1),S=_(!1),{isCardType:N,isVertical:L}=a,J=$(()=>{const r=`${`translate${e(L)?"Y":"X"}`}(${e(c)}px)`,v=`scale(${e(y)})`;return{transform:[r,v].join(" ")}});function X(n,r,v){const i=v-1,w=r-1,T=r+1,E=v/2;return r===0&&n===i?-1:r===i&&n===0?v:n<w&&r-n>=E?v+1:n>T&&n-r>=E?-2:n}function z(n,r){var v;const i=((v=a.root.value)==null?void 0:v.offsetWidth)||0;return C.value?i*((2-W)*(n-r)+1)/4:n<r?-(1+W)*i/4:(3+W)*i/4}function A(n,r,v){const i=a.root.value;return i?((v?i.offsetHeight:i.offsetWidth)||0)*(n-r):0}const R=(n,r,v)=>{var i;const w=e(N),T=(i=a.items.value.length)!=null?i:Number.NaN,E=n===r;!w&&!je(v)&&(S.value=E||n===v),!E&&T>2&&a.loop&&(n=X(n,r,T));const G=e(L);s.value=E,w?(C.value=Math.round(Math.abs(n-r))<=1,c.value=z(n,r),y.value=e(s)?1:W):c.value=A(n,r,G),h.value=!0};function Y(){if(a&&e(N)){const n=a.items.value.findIndex(({uid:r})=>r===l.uid);a.setActiveItem(n)}}return fe(()=>{a.addItem({props:m,states:Re({hover:o,translate:c,scale:y,active:s,ready:h,inStage:C,animating:S}),uid:l.uid,translateItem:R})}),We(()=>{a.removeItem(l.uid)}),(n,r)=>K((p(),k("div",{class:b([e(f).e("item"),e(f).is("active",s.value),e(f).is("in-stage",C.value),e(f).is("hover",o.value),e(f).is("animating",S.value),{[e(f).em("item","card")]:e(N)}]),style:de(e(J)),onClick:Y},[e(N)?K((p(),k("div",{key:0,class:b(e(f).e("mask"))},null,2)),[[q,!s.value]]):P("v-if",!0),ve(n.$slots,"default")],6)),[[q,h.value]])}});var ye=he(it,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ct=Ke(lt,{CarouselItem:ye}),ft=qe(ye);function vt(){return $request.get({url:"/pc/index"})}const dt={class:"index"},mt={class:"flex"},pt={class:"mt-5 flex"},wt=U({__name:"index",async setup(g){let m,f;const a=Je(),{data:l}=([m,f]=Xe(()=>Ye(()=>vt(),{default:()=>({all:[],hot:[],new:[],page:{}})},"$pqtWcjQkdb")),m=await m,f(),m),o=$(()=>{var c;try{return(c=JSON.parse(l.value.page.data).find(s=>s.name==="banner"))==null?void 0:c.content}catch{return{}}});return(c,y)=>{const s=Ae;return p(),k("div",dt,[D("div",mt,[e(o).enabled?(p(),j(e(ct),{key:0,class:"w-[750px] flex-none mr-5",trigger:"click",height:"340px"},{default:O(()=>[(p(!0),k(me,null,pe(e(o).data,h=>(p(),j(e(ft),{key:h},{default:O(()=>[M(e(Ge),{class:"w-full h-full rounded-[8px]",src:e(a).getImageUrl(h.image),fit:"contain"},null,8,["src"])]),_:2},1024))),128))]),_:1})):P("",!0),M(s,{link:"/information/new",class:"flex-1 min-w-0",header:"\u6700\u65B0\u8D44\u8BAF",data:e(l).new,"show-time":!1},null,8,["data"])]),D("div",pt,[M(s,{link:"/information",class:"w-[750px] flex-none mr-5",header:"\u5168\u90E8\u8D44\u8BAF",data:e(l).all,"only-title":!1},null,8,["data"]),M(s,{link:"/information/hot",class:"flex-1",header:"\u70ED\u95E8\u8D44\u8BAF",data:e(l).hot,"only-title":!1,"image-size":"mini","show-author":!1,"show-desc":!1,"show-click":!1,border:!1,"title-line":2},null,8,["data"])])])}}});export{wt as default};
