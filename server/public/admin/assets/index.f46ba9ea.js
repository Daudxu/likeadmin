import{_ as N,d as R,u as q,l as B,r as j,s as Q,bR as z,o as l,c as H,a as t,w as e,e as E,h as c,Q as r,f as i,S as J,i as K,g as u,E as M}from"./index.c6bd4263.js";import{v as w,L as D}from"./el-loading.64372b24.js";import{E as O,a as W}from"./el-table-column.a5a5cab5.js";import"./el-checkbox.0d299acb.js";import"./el-tag.c60a3871.js";import{E as X}from"./el-card.f9d4ddb1.js";import{E as Y,a as Z}from"./el-form-item.841cfb2b.js";import{E as ee}from"./el-input.c99645cf.js";import{c as te,d as oe,e as ae,f as le,g as ne}from"./dev_tools.7b9d0779.js";import{u as se}from"./pages.d4b2c9ec.js";import ie from"./data-table.a4e988a8.js";import{P as ue}from"./index.c0d4374c.js";import re from"./code-preview.e28ab35d.js";import{P as y}from"./index.616c0419.js";import"./event.776e7e11.js";import"./isEqual.43139284.js";import"./index.c4bfe85d.js";import"./el-select.40966c05.js";import"./index.0f6303cf.js";import"./scroll.601310da.js";import"./validator.360ff86a.js";import"./el-overlay.f2884190.js";import"./el-tab-pane.3e24617e.js";const de={install(b){b.directive("loading",w),b.config.globalProperties.$loading=D},directive:w,service:D};const ce={class:"code-generation"},me={class:"m-l-20"},_e=u("\u67E5\u8BE2"),pe=u("\u91CD\u7F6E"),fe=u("\u5BFC\u5165\u6570\u636E\u8868"),ge=u("\u751F\u6210\u4EE3\u7801"),ve=u("\u5220\u9664"),Ce={class:"m-t-15"},be=u("\u9884\u89C8"),he=u("\u4EE3\u7801\u751F\u6210"),Fe=u("\u7F16\u8F91"),Ee=u("\u540C\u6B65"),ye=u("\u5220\u9664"),we={class:"flex row-right m-t-20"},xe=R({__name:"index",setup(b){q();const m=B({table_name:"",table_comment:""}),_=B({show:!1,code:[]}),{pager:g,requestApi:C,resetParams:P,resetPage:$}=se({callback:te,params:m}),p=j([]),S=n=>{p.value=n.map(({id:o})=>o)},T=async n=>{await oe({id:n})},x=async n=>{await ae({id:n}),C()},G=async n=>{const o=de.service({text:"\u6B63\u5728\u751F\u6210\u4E2D..."});try{const v=await le({id:n});_.show=!0,_.code=v,o.close()}catch{o.close()}},k=async n=>{const o=await ne({id:n});o.file&&window.open(o.file,"_blank")};return C(),(n,o)=>{const v=ee,h=Y,s=M,U=Z,V=X,f=O,A=Q("router-link"),I=W,d=z("perms"),L=w;return l(),H("div",ce,[t(V,{shadow:"never"},{default:e(()=>[t(U,{class:"ls-form",model:m,"label-width":"80px",inline:""},{default:e(()=>[t(h,{label:"\u8868\u540D\u79F0"},{default:e(()=>[t(v,{modelValue:m.table_name,"onUpdate:modelValue":o[0]||(o[0]=a=>m.table_name=a),class:"ls-input"},null,8,["modelValue"])]),_:1}),t(h,{label:"\u8868\u63CF\u8FF0"},{default:e(()=>[t(v,{modelValue:m.table_comment,"onUpdate:modelValue":o[1]||(o[1]=a=>m.table_comment=a),class:"ls-input"},null,8,["modelValue"])]),_:1}),t(h,null,{default:e(()=>[E("div",me,[t(s,{type:"primary",onClick:c($)},{default:e(()=>[_e]),_:1},8,["onClick"]),t(s,{onClick:c(P)},{default:e(()=>[pe]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["model"])]),_:1}),r((l(),i(V,{class:"m-t-16",shadow:"never"},{default:e(()=>[r((l(),i(ie,{class:"inline m-r-10",onSuccess:c(C)},{default:e(()=>[t(s,{type:"primary"},{default:e(()=>[fe]),_:1})]),_:1},8,["onSuccess"])),[[d,["tools.generator/selectTable"]]]),r((l(),i(s,{disabled:!p.value.length,onClick:o[2]||(o[2]=a=>k(p.value))},{default:e(()=>[ge]),_:1},8,["disabled"])),[[d,["tools.generator/generate"]]]),r((l(),i(y,{class:"m-l-10 inline",disabled:!p.value.length,content:"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u6570\u636E\u8868\uFF1F",onConfirm:o[3]||(o[3]=a=>x(p.value))},{trigger:e(()=>[t(s,{disabled:!p.value.length},{default:e(()=>[ve]),_:1},8,["disabled"])]),_:1},8,["disabled"])),[[d,["tools.generator/delete"]]]),E("div",Ce,[t(I,{data:c(g).lists,onSelectionChange:S},{default:e(()=>[t(f,{type:"selection",width:"55"}),t(f,{label:"\u8868\u540D\u79F0",prop:"table_name"}),t(f,{label:"\u8868\u63CF\u8FF0",prop:"table_comment"}),t(f,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time"}),t(f,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"update_time"}),t(f,{label:"\u64CD\u4F5C",width:"240",fixed:"right"},{default:e(({row:a})=>[r((l(),i(s,{type:"text",onClick:F=>G(a.id)},{default:e(()=>[be]),_:2},1032,["onClick"])),[[d,["tools.generator/preview"]]]),r((l(),i(s,{type:"text",onClick:F=>k(a.id)},{default:e(()=>[he]),_:2},1032,["onClick"])),[[d,["tools.generator/generate"]]]),r((l(),i(A,{class:"m-l-10",to:{path:"/dev_tools/code/edit",query:{id:a.id}}},{default:e(()=>[t(s,{type:"text"},{default:e(()=>[Fe]),_:1})]),_:2},1032,["to"])),[[d,["tools.generator/edit"]]]),r((l(),i(y,{class:"inline m-l-10",content:"\u786E\u8BA4\u8981\u540C\u6B65\u8868\u7ED3\u6784\u5417\uFF1F",onConfirm:F=>T(a.id)},{trigger:e(()=>[t(s,{type:"text"},{default:e(()=>[Ee]),_:1})]),_:2},1032,["onConfirm"])),[[d,["tools.generator/syncColumn"]]]),r((l(),i(y,{class:"inline m-l-10",onConfirm:F=>x(a.id)},{trigger:e(()=>[t(s,{type:"text"},{default:e(()=>[ye]),_:1})]),_:2},1032,["onConfirm"])),[[d,["tools.generator/delete"]]])]),_:1})]),_:1},8,["data"])]),E("div",we,[t(ue,{modelValue:c(g),"onUpdate:modelValue":o[4]||(o[4]=a=>J(g)?g.value=a:null),layout:"total, prev, pager, next, jumper",onChange:c(C)},null,8,["modelValue","onChange"])])]),_:1})),[[L,c(g).loading]]),_.show?(l(),i(re,{key:0,modelValue:_.show,"onUpdate:modelValue":o[5]||(o[5]=a=>_.show=a),code:_.code},null,8,["modelValue","code"])):K("",!0)])}}});var Oe=N(xe,[["__scopeId","data-v-6a2ce5e0"]]);export{Oe as default};
