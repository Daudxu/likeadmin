System.register(["./element-plus-legacy.9a978554.js","./index-legacy.42d35444.js","./index-legacy.2816f21b.js","./@vue-legacy.6b85f8d1.js"],(function(e){"use strict";var l,a,t,s,u,r,o,n,d,i,c,p,m,g,_,f,y,b,S,k,V;return{setters:[e=>{l=e.O,a=e.P,t=e.D,s=e.C,u=e.F},e=>{r=e.r},e=>{o=e.P},e=>{n=e.d,d=e.s,i=e.a1,c=e.e,p=e.o,m=e.c,g=e.W,_=e.O,f=e.a,y=e.U,b=e.V,S=e.u,k=e.M,V=e.T}],execute:function(){e("s",(function(){return r.get({url:"/setting.storage/lists"})}));const v={class:"edit-popup"},E={class:"form-tips"},C={key:0},h={class:"flex-1"},O={class:"flex-1"},q=f("div",{class:"form-tips"}," 请补全http://或https://，例如https://static.cloud.com ",-1),x=y("关闭"),K=y("开启");e("_",n({__name:"edit",emits:["success"],setup(e,{expose:n,emit:R}){const U=d(),Y=d(),w=i({engine:"",bucket:"",access_key:"",secret_key:"",domain:"",region:"",status:0}),j=[{name:"本地存储",type:"local",tips:"本地存储方式不需要配置其他参数"},{name:"七牛云存储",type:"qiniu",tips:"切换七牛云存储后，素材库需要重新上传至七牛云"},{name:"阿里云OSS",type:"aliyun",tips:"切换阿里云OSS后，素材库需要重新上传至阿里云OSS"},{name:"腾讯云OSS",type:"qcloud",tips:"切换腾讯云OSS后，素材库需要重新上传至腾讯云OSS"}],A={bucket:[{required:!0,message:"请输入存储空间名称",trigger:"blur"}],access_key:[{required:!0,message:"请输入ACCESS_KEY",trigger:"blur"}],secret_key:[{required:!0,message:"请输入SECRET_KEY",trigger:"blur"}],domain:[{required:!0,message:"请输入空间域名",trigger:"blur"}],region:[{required:!0,message:"请输入REGION",trigger:"blur"}]},T=c((()=>j.find((e=>e.type==w.engine)))),D=async()=>{var e;await(U.value?.validate()),await(e=w,r.post({url:"/setting.storage/setup",params:e})),Y.value?.close(),R("success")},F=async()=>{const e=await(l={engine:w.engine},r.get({url:"/setting.storage/detail",params:l}));var l;for(const a in e)w[a]=e[a]},G=()=>{U.value?.resetFields()};return n({open:e=>{w.engine=e,Y.value?.open(),F()}}),(e,r)=>{const n=l,d=t,i=s,c=a,R=u;return p(),m("div",v,[g(o,{ref_key:"popupRef",ref:Y,title:"设置存储",async:!0,width:"550px",onConfirm:D,onClose:G},{default:_((()=>[g(R,{ref_key:"formRef",ref:U,model:w,"label-width":"120px",rules:A},{default:_((()=>[g(d,{label:"存储方式",prop:"engine"},{default:_((()=>[f("div",null,[g(n,{"model-value":""},{default:_((()=>[y(b(S(T)?.name),1)])),_:1}),f("div",E,b(S(T)?.tips),1)])])),_:1}),"local"!==w.engine?(p(),m("div",C,[g(d,{label:" 存储空间名称",prop:"bucket"},{default:_((()=>[f("div",h,[g(i,{modelValue:w.bucket,"onUpdate:modelValue":r[0]||(r[0]=e=>w.bucket=e),placeholder:"请输入存储空间名称(Bucket)",clearable:""},null,8,["modelValue"])])])),_:1}),g(d,{label:"ACCESS_KEY",prop:"access_key"},{default:_((()=>[g(i,{modelValue:w.access_key,"onUpdate:modelValue":r[1]||(r[1]=e=>w.access_key=e),placeholder:"请输入ACCESS_KEY(AK)",clearable:""},null,8,["modelValue"])])),_:1}),g(d,{label:"SECRET_KEY",prop:"secret_key"},{default:_((()=>[g(i,{modelValue:w.secret_key,"onUpdate:modelValue":r[2]||(r[2]=e=>w.secret_key=e),placeholder:"请输入SECRET_KEY(SK)",clearable:""},null,8,["modelValue"])])),_:1}),g(d,{label:"空间域名",prop:"domain"},{default:_((()=>[f("div",O,[f("div",null,[g(i,{modelValue:w.domain,"onUpdate:modelValue":r[3]||(r[3]=e=>w.domain=e),placeholder:"请输入空间域名(Domain)",clearable:""},null,8,["modelValue"])]),q])])),_:1}),"qcloud"==w.engine?(p(),k(d,{key:0,label:"REGION",prop:"region"},{default:_((()=>[g(i,{modelValue:w.region,"onUpdate:modelValue":r[4]||(r[4]=e=>w.region=e),placeholder:"请输入region",clearable:""},null,8,["modelValue"])])),_:1})):V("",!0)])):V("",!0),g(d,{label:"状态",prop:"status"},{default:_((()=>[g(c,{modelValue:w.status,"onUpdate:modelValue":r[5]||(r[5]=e=>w.status=e)},{default:_((()=>[g(n,{label:0},{default:_((()=>[x])),_:1}),g(n,{label:1},{default:_((()=>[K])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},512)])}}}))}}}));
