import{F as w}from"./index.f10a28f0.js";import{f as x,g as E,h as y}from"./organization.8767176d.js";import{_ as A,d as U,r as F,k as I,l as R,T as S,m as T,n as q,c as J,a as e,w as l,ba as N,g as $,e as r,aP as z,o as v,i as t,bQ as K,aK as M,aI as P,h as Q,f as j}from"./index.140321e9.js";const G=i=>(M("data-v-0aec7d72"),i=i(),P(),i),H={class:"post-edit"},L=G(()=>j("div",{class:"muted"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1)),O=Q("\u4FDD\u5B58"),W=U({__name:"edit",setup(i){const c=F(null),{router:D,route:b}=I(),d=R(()=>{var s;return(s=b.query)==null?void 0:s.id}),p=F(!1),{formData:u,rules:V}=S(T({formData:{name:"",code:"",sort:0,remark:"",status:0},rules:{code:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",trigger:["blur"]}]}})),C=()=>{!d.value||(p.value=!0,x({id:d.value}).then(s=>{u.value=s}).finally(()=>{p.value=!1}))},g=()=>{var s;(s=c.value)==null||s.validate(a=>{if(!a)return;(d.value?E({...u.value,id:d.value}):y(u.value)).then(()=>{setTimeout(()=>D.go(-1),500)})})};return q(()=>{C()}),(s,a)=>{const _=r("el-page-header"),f=r("el-card"),m=r("el-input"),n=r("el-form-item"),B=r("el-switch"),h=r("el-button"),k=z("loading");return v(),J("div",H,[e(f,{shadow:"never"},{default:l(()=>[e(_,{content:t(d)?"\u7F16\u8F91\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D",onBack:a[0]||(a[0]=o=>s.$router.back())},null,8,["content"])]),_:1}),N((v(),$(f,{shadow:"never",class:"m-t-15"},{default:l(()=>[e(t(K),{ref_key:"formRefs",ref:c,rules:t(V),class:"ls-form",model:t(u),"label-width":"150px"},{default:l(()=>[e(n,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"name"},{default:l(()=>[e(m,{modelValue:t(u).name,"onUpdate:modelValue":a[1]||(a[1]=o=>t(u).name=o),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"code"},{default:l(()=>[e(m,{modelValue:t(u).code,"onUpdate:modelValue":a[2]||(a[2]=o=>t(u).code=o),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[e(m,{modelValue:t(u).sort,"onUpdate:modelValue":a[3]||(a[3]=o=>t(u).sort=o),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",type:"number"},null,8,["modelValue"]),L]),_:1}),e(n,{label:"\u5907\u6CE8",prop:"remark"},{default:l(()=>[e(m,{modelValue:t(u).remark,"onUpdate:modelValue":a[4]||(a[4]=o=>t(u).remark=o),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5C97\u4F4D\u72B6\u6001"},{default:l(()=>[e(B,{modelValue:t(u).status,"onUpdate:modelValue":a[5]||(a[5]=o=>t(u).status=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1})),[[k,p.value]]),e(w,null,{default:l(()=>[e(h,{type:"primary",onClick:g},{default:l(()=>[O]),_:1})]),_:1})])}}});var ee=A(W,[["__scopeId","data-v-0aec7d72"]]);export{ee as default};
