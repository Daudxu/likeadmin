import{d as x,s as E,r as _,e as R,f as U,h as N,cr as S,b1 as I,j as f,k as q,m as u,w as a,l as d,Q as L,Y as P,n as T}from"./index.c3aea19d.js";import{E as j,a as M}from"./el-form-item.74423cde.js";import{E as O}from"./el-input-number.8c09c70a.js";/* empty css               */import"./el-select.1d971f97.js";import"./el-tree.47d5228f.js";import"./el-checkbox.61b5b1e3.js";import{E as Q}from"./el-tree-select.ed576353.js";import{d as Y,a as z,b as G}from"./department.d218cfc5.js";import{P as H}from"./index.6c6a7aaf.js";import"./isEqual.662af1fc.js";import"./index.1f9198fb.js";import"./index.7cdad076.js";import"./index.6e7535e0.js";import"./index.bfca7591.js";const J={class:"edit-popup"},K={class:"h-[400px]"},W={class:"w-80"},X={class:"w-80"},Z={class:"w-80"},$=d("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1),fe=x({__name:"edit",emits:["success","close"],setup(ee,{expose:F,emit:m}){const i=E(),r=E(),c=_([]),n=_("add"),v=R(()=>n.value=="edit"?"\u7F16\u8F91\u90E8\u95E8":"\u65B0\u589E\u90E8\u95E8"),l=U({id:"",pid:"",name:"",leader:"",mobile:"",sort:0,status:1}),b={pid:[{required:!0,message:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8",trigger:["change"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",trigger:["blur"]}]},V=async()=>{const o=await Y();c.value=o},B=async()=>{var o,e;await((o=i.value)==null?void 0:o.validate()),n.value=="edit"?await z(l):await G(l),(e=r.value)==null||e.close(),m("success")},D=(o="add")=>{var e;n.value=o,(e=r.value)==null||e.open()},w=o=>{for(const e in l)o[e]!=null&&o[e]!=null&&(l[e]=o[e])},A=()=>{m("close")};return V(),F({open:D,setFormData:w}),(o,e)=>{const h=Q,s=j,p=N,k=O,C=S,y=M,g=I;return f(),q("div",J,[u(H,{ref_key:"popupRef",ref:r,title:T(v),async:!0,width:"700px",clickModalClose:!0,onConfirm:B,onClose:A},{default:a(()=>[d("div",K,[u(g,null,{default:a(()=>[u(y,{ref_key:"formRef",ref:i,model:l,"label-width":"120px",rules:b},{default:a(()=>[l.pid!==0?(f(),L(s,{key:0,label:"\u4E0A\u7EA7\u90E8\u95E8",prop:"pid"},{default:a(()=>[u(h,{class:"w-80",modelValue:l.pid,"onUpdate:modelValue":e[0]||(e[0]=t=>l.pid=t),data:c.value,clearable:"","node-key":"id",props:{value:"id",label:"name"},"check-strictly":"","default-expand-all":!0,placeholder:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8"},null,8,["modelValue","data"])]),_:1})):P("",!0),u(s,{label:"\u90E8\u95E8\u540D\u79F0",prop:"name"},{default:a(()=>[d("div",W,[u(p,{modelValue:l.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.name=t),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"},null,8,["modelValue"])])]),_:1}),u(s,{label:"\u8D1F\u8D23\u4EBA",prop:"leader"},{default:a(()=>[d("div",X,[u(p,{modelValue:l.leader,"onUpdate:modelValue":e[2]||(e[2]=t=>l.leader=t),placeholder:"\u8BF7\u8F93\u5165\u8D1F\u8D23\u4EBA\u59D3\u540D"},null,8,["modelValue"])])]),_:1}),u(s,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"mobile"},{default:a(()=>[d("div",Z,[u(p,{modelValue:l.mobile,"onUpdate:modelValue":e[3]||(e[3]=t=>l.mobile=t),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"},null,8,["modelValue"])])]),_:1}),u(s,{label:"\u6392\u5E8F",prop:"sort"},{default:a(()=>[d("div",null,[u(k,{modelValue:l.sort,"onUpdate:modelValue":e[4]||(e[4]=t=>l.sort=t)},null,8,["modelValue"]),$])]),_:1}),u(s,{label:"\u90E8\u95E8\u72B6\u6001"},{default:a(()=>[u(C,{modelValue:l.status,"onUpdate:modelValue":e[5]||(e[5]=t=>l.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},8,["title"])])}}});export{fe as default};
