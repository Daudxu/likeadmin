import{d as U,j as L,r as A,m as I,E as N,c as m,a as e,w as o,h as u,f as _,i as n,o as s,e as f,g as k}from"./index.c6bd4263.js";/* empty css                       */import{E as q,a as w}from"./el-radio.b6ce09a7.js";import{E as R}from"./el-input.c99645cf.js";import{E as Y,a as K}from"./el-form-item.841cfb2b.js";import{E as x}from"./el-alert.2d049937.js";import{E as Q}from"./el-card.f9d4ddb1.js";import{E as T}from"./el-page-header.dc1a151b.js";import{c as G,d as $}from"./setting.fbb007a2.js";import{F as j}from"./index.dfccb78a.js";import"./event.776e7e11.js";import"./index.c4bfe85d.js";import"./isEqual.43139284.js";var d=(F=>(F.LOCAL="local",F.QINIU="qiniu",F.ALIYUN="aliyun",F.QCLOUD="qcloud",F))(d||{});const H={class:"storage-setting"},M={class:"card-content m-t-24"},P={key:0},z={key:1},J={key:2},W={key:3},X={key:4,class:"muted xs m-l-16"},Z={key:0},uu=f("div",{class:"muted xs m-r-16"},"\u8BF7\u8865\u5168http://\u6216https://\uFF0C\u4F8B\u5982https://static.cloud.com",-1),eu=k("\u505C\u7528\xB7"),tu=k("\u542F\u7528"),ou=k("\u4FDD\u5B58"),Au=U({__name:"edit",setup(F){const{route:B,router:S}=L();let a=A(""),l=A({bucket:"",access_key:"",secret_key:"",domain:"",region:"",status:0}),b=A({bucket:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B58\u50A8\u7A7A\u95F4\u540D\u79F0",trigger:"blur"}],access_key:[{required:!0,message:"\u8BF7\u8F93\u5165ACCESS_KEY",trigger:"blur"}],secret_key:[{required:!0,message:"\u8BF7\u8F93\u5165SECRET_KEY",trigger:"blur"}],domain:[{required:!0,message:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u57DF\u540D",trigger:"blur"}],region:[{required:!0,message:"\u8BF7\u8F93\u5165REGION",trigger:"blur"}]});const y=A(null),v=()=>{var E;(E=y.value)==null||E.validate(t=>{!t||$({...l.value,engine:a.value}).then(p=>{setTimeout(()=>S.back(),500)}).catch(p=>{console.log("err",p)})})},V=async()=>{l.value=await G({engine:a.value})};return I(async()=>{B.query.engine&&(console.log("route.query.engine",B.query.engine),a.value=B.query.engine),await V()}),(E,t)=>{const p=T,C=Q,g=x,i=Y,c=R,D=q,h=w,O=N;return s(),m("div",H,[e(C,{shadow:"never"},{default:o(()=>[e(p,{onBack:t[0]||(t[0]=r=>E.$router.go(-1)),content:"\u5B58\u50A8\u8BBE\u7F6E"})]),_:1}),u(a)!==u(d).LOCAL?(s(),_(C,{key:0,shadow:"never",class:"m-t-15"},{default:o(()=>[u(a)==u(d).QINIU?(s(),_(g,{key:0,title:"\u6E29\u99A8\u63D0\u793A\uFF1A\u5207\u6362\u4E03\u725B\u4E91\u5B58\u50A8\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u4E03\u725B\u4E91\u3002",closable:!1,"show-icon":""})):n("",!0),u(a)==u(d).ALIYUN?(s(),_(g,{key:1,title:"\u6E29\u99A8\u63D0\u793A\uFF1A\u5207\u6362\u963F\u91CC\u4E91OSS\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u963F\u91CC\u4E91OSS\u3002",closable:!1,"show-icon":""})):n("",!0),u(a)==u(d).QCLOUD?(s(),_(g,{key:2,title:"\u6E29\u99A8\u63D0\u793A\uFF1A\u5207\u6362\u817E\u8BAF\u4E91OSS\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u817E\u8BAF\u4E91OSS\u3002",closable:!1,"show-icon":""})):n("",!0)]),_:1})):n("",!0),e(C,{shadow:"never",class:"m-t-15"},{default:o(()=>[e(u(K),{ref_key:"formRef",ref:y,model:u(l),rules:u(b),"label-width":"240px",class:"ls-form"},{default:o(()=>[f("div",M,[e(i,{label:"\u5B58\u50A8\u65B9\u5F0F"},{default:o(()=>[f("div",null,[u(a)===u(d).LOCAL?(s(),m("div",P,"\u672C\u5730\u5B58\u50A8")):n("",!0),u(a)===u(d).QINIU?(s(),m("div",z,"\u4E03\u725B\u4E91\u5B58\u50A8")):n("",!0),u(a)===u(d).ALIYUN?(s(),m("div",J,"\u963F\u91CC\u4E91OSS")):n("",!0),u(a)===u(d).QCLOUD?(s(),m("div",W,"\u817E\u8BAF\u4E91OSS")):n("",!0),u(a)===u(d).LOCAL?(s(),m("div",X,"\u672C\u5730\u5B58\u50A8\u65B9\u5F0F\u4E0D\u9700\u8981\u914D\u7F6E\u5176\u4ED6\u53C2\u6570")):n("",!0)])]),_:1})]),u(a)!=="local"?(s(),m("div",Z,[e(i,{label:" \u5B58\u50A8\u7A7A\u95F4\u540D\u79F0(Bucket)",prop:"bucket"},{default:o(()=>[e(c,{modelValue:u(l).bucket,"onUpdate:modelValue":t[1]||(t[1]=r=>u(l).bucket=r),placeholder:"\u8BF7\u8F93\u5165\u5B58\u50A8\u7A7A\u95F4\u540D\u79F0(Bucket)"},null,8,["modelValue"])]),_:1}),e(i,{label:"ACCESS_KEY\uFF08AK\uFF09",prop:"access_key"},{default:o(()=>[e(c,{modelValue:u(l).access_key,"onUpdate:modelValue":t[2]||(t[2]=r=>u(l).access_key=r),placeholder:"\u8BF7\u8F93\u5165ACCESS_KEY"},null,8,["modelValue"])]),_:1}),e(i,{label:"SECRET_KEY\uFF08SK\uFF09",prop:"secret_key"},{default:o(()=>[e(c,{modelValue:u(l).secret_key,"onUpdate:modelValue":t[3]||(t[3]=r=>u(l).secret_key=r),placeholder:"\u8BF7\u8F93\u5165SECRET_KEY"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u7A7A\u95F4\u57DF\u540D\uFF08Domain\uFF09",prop:"domain"},{default:o(()=>[f("div",null,[e(c,{modelValue:u(l).domain,"onUpdate:modelValue":t[4]||(t[4]=r=>u(l).domain=r),placeholder:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u57DF\u540D"},null,8,["modelValue"]),uu])]),_:1}),u(a)==u(d).QCLOUD?(s(),_(i,{key:0,label:"REGION",prop:"region"},{default:o(()=>[e(c,{modelValue:u(l).region,"onUpdate:modelValue":t[5]||(t[5]=r=>u(l).region=r),placeholder:"\u8BF7\u8F93\u5165region"},null,8,["modelValue"])]),_:1})):n("",!0)])):n("",!0),e(i,{label:"\u72B6\u6001",prop:"status"},{default:o(()=>[e(h,{class:"m-r-16",modelValue:u(l).status,"onUpdate:modelValue":t[6]||(t[6]=r=>u(l).status=r)},{default:o(()=>[e(D,{label:0},{default:o(()=>[eu]),_:1}),e(D,{label:1},{default:o(()=>[tu]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),e(j,null,{default:o(()=>[e(O,{type:"primary",onClick:v},{default:o(()=>[ou]),_:1})]),_:1})])}}});export{Au as default};
