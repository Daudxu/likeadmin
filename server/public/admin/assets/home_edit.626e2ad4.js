import{l as X,f as z,m as G,n as J}from"./decoration.ae941646.js";import{F as K}from"./index.319a77f2.js";import{_ as O}from"./index.b6938fb2.js";import{_ as Q,d as W,r as d,k as Y,m as Z,e as n,o as s,c as g,a as t,w as o,i as u,f as U,g as m,H as V,I as x,j as b,aX as ee,aV as le,h as y}from"./index.6235ba03.js";import"./index.a594d598.js";import"./index.9923ef6e.js";import"./pages.9569697b.js";const ae=p=>(ee("data-v-42877db4"),p=p(),le(),p),ue=ae(()=>U("div",{class:"muted"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A\u5BBD200*\u9AD8200\u50CF\u7D20\u7684jpg\uFF0Cjpeg\uFF0Cpng\uFF0Cgif\u56FE\u7247",-1)),te=y("\u5546\u57CE\u9875\u9762"),oe=y("\u81EA\u5B9A\u4E49\u94FE\u63A5"),ne=y("\u4FDD\u5B58"),se=W({__name:"home_edit",setup(p){const B=d(),{router:E,route:H}=Y(),_=H.query.id;let e=d({name:"",image:"",link_type:1,link_address:"",sort:0,status:1}),D=d([]),M=d([]);const c=d(""),v=d(""),f=d(""),S=Z({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"}],link_address:[{required:!0,message:"\u94FE\u63A5\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:[]}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001",trigger:"change"}]}),I=async r=>{switch(e.value=await X({id:r}),e.value.link_type){case 1:c.value=e.value.link_address;break;case 2:v.value=e.value.link_address;break;case 3:f.value=e.value.link_address;break}},q=async()=>{D.value=await z()},L=async()=>{await G({...e.value}),E.back()},N=async()=>{await J({...e.value}),E.back()},P=r=>{switch(e.value.link_type){case 1:e.value.link_address=c.value;break;case 2:e.value.link_address=v.value;break;case 3:e.value.link_address=f.value;break}!r||r.validate(a=>{if(!a)return!1;_?N():L()})};return _&&I(_),q(),(r,a)=>{const j=n("el-page-header"),w=n("el-card"),k=n("el-input"),i=n("el-form-item"),A=n("el-radio"),C=n("el-option"),h=n("el-select"),$=n("el-switch"),R=n("el-form"),T=n("el-button");return s(),g(V,null,[t(w,{shadow:"never"},{default:o(()=>[t(j,{content:u(_)?"\u7F16\u8F91\u83DC\u5355":"\u65B0\u589E\u83DC\u5355",onBack:a[0]||(a[0]=l=>r.$router.back())},null,8,["content"])]),_:1}),t(R,{ref_key:"formRef",ref:B,model:u(e),rules:S,"label-width":"120px",class:"formData"},{default:o(()=>[t(w,{shadow:"never",style:{"margin-top":"15px"}},{default:o(()=>[t(i,{label:"\u83DC\u5355\u540D\u79F0:",prop:"name"},{default:o(()=>[t(k,{class:"ls-input",modelValue:u(e).name,"onUpdate:modelValue":a[1]||(a[1]=l=>u(e).name=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u56FE\u6807:"},{default:o(()=>[t(O,{modelValue:u(e).image,"onUpdate:modelValue":a[2]||(a[2]=l=>u(e).image=l),limit:1},null,8,["modelValue"]),ue]),_:1}),t(i,{label:"\u94FE\u63A5\u5730\u5740:",prop:"link_address"},{default:o(()=>[t(A,{modelValue:u(e).link_type,"onUpdate:modelValue":a[3]||(a[3]=l=>u(e).link_type=l),name:"1",label:1},{default:o(()=>[te]),_:1},8,["modelValue"]),t(A,{modelValue:u(e).link_type,"onUpdate:modelValue":a[4]||(a[4]=l=>u(e).link_type=l),name:"3",label:3},{default:o(()=>[oe]),_:1},8,["modelValue"]),U("div",null,[u(e).link_type===1?(s(),m(h,{key:0,modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=l=>c.value=l),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(s(!0),g(V,null,x(u(D),(l,F)=>(s(),m(C,{key:F,label:l.name,value:l.index},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):b("",!0),u(e).link_type===2?(s(),m(h,{key:1,modelValue:v.value,"onUpdate:modelValue":a[6]||(a[6]=l=>v.value=l),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(s(!0),g(V,null,x(u(M),(l,F)=>(s(),m(C,{key:F,label:l.name,value:l.id+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):b("",!0),u(e).link_type===3?(s(),m(k,{key:2,class:"ls-input",modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=l=>f.value=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):b("",!0)])]),_:1}),t(i,{label:"\u6392\u5E8F:"},{default:o(()=>[t(k,{class:"ls-input",modelValue:u(e).sort,"onUpdate:modelValue":a[8]||(a[8]=l=>u(e).sort=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u72B6\u6001:",prop:"status"},{default:o(()=>[t($,{modelValue:u(e).status,"onUpdate:modelValue":a[9]||(a[9]=l=>u(e).status=l),"active-text":u(e).status?"\u542F\u7528":"\u5173\u95ED","active-value":1,"inactive-value":0},null,8,["modelValue","active-text"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),t(K,null,{default:o(()=>[t(T,{type:"primary",onClick:a[10]||(a[10]=l=>P(B.value))},{default:o(()=>[ne]),_:1})]),_:1})],64)}}});var ve=Q(se,[["__scopeId","data-v-42877db4"]]);export{ve as default};
