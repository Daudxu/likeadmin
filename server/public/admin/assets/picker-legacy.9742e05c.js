!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var a=document.createElement("style");a.innerHTML=".material-select .material-upload[data-v-4624db3d],.material-select .material-preview[data-v-4624db3d]{position:relative;border-radius:4px;cursor:pointer;margin-right:8px;margin-bottom:8px;box-sizing:border-box;float:left}.material-select .material-upload.is-disabled[data-v-4624db3d],.material-select .material-preview.is-disabled[data-v-4624db3d]{cursor:not-allowed}.material-select .material-upload.is-one[data-v-4624db3d],.material-select .material-preview.is-one[data-v-4624db3d]{margin-bottom:0}.material-select .material-upload:hover .operation-btns[data-v-4624db3d],.material-select .material-preview:hover .operation-btns[data-v-4624db3d]{display:block}.material-select .material-upload .operation-btns[data-v-4624db3d],.material-select .material-preview .operation-btns[data-v-4624db3d]{display:none;position:absolute;bottom:0;border-radius:4px;width:100%;line-height:2;color:#fff;background-color:rgba(0,0,0,.3)}.material-select .material-upload[data-v-4624db3d] .upload-btn{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:.25rem;border-width:1px;border-style:dashed;border-color:var(--el-border-color);color:var(--el-text-color-secondary)}.material-wrap[data-v-4624db3d]{min-width:720px;height:430px;border-top-width:1px;border-bottom-width:1px;border-color:var(--el-border-color)}\n",document.head.appendChild(a),System.register(["./index-legacy.2816f21b.js","./element-plus-legacy.9a978554.js","./index-legacy.d7d84323.js","./index-legacy.42d35444.js","./index-legacy.546638f2.js","./vuedraggable-legacy.c3200c05.js","./@vue-legacy.6b85f8d1.js","./@vueuse-legacy.157488cf.js"],(function(t){"use strict";var a,i,l,n,r,o,u,d,s,c,p,f,m,v,b,g,y,h,w,x,C,U,P,S,j,z,_,A,I,V,k,L,D,R;return{setters:[function(e){a=e.P},function(e){i=e.E},function(e){l=e.F,n=e._,r=e.a},function(e){o=e.u,u=e.d,d=e.b},function(e){s=e._},function(e){c=e.D},function(e){p=e.d,f=e.r,m=e.a5,v=e.e,b=e.w,g=e.E,y=e.n,h=e.a6,w=e.o,x=e.c,C=e.W,U=e.aa,P=e.O,S=e.a,j=e.R,z=e.$,_=e.P,A=e.Q,I=e.J,V=e.a0,k=e.U,L=e.b9,D=e.b8},function(e){R=e.f}],execute:function(){var E=p({components:{Popup:a,Draggable:c,FileItem:l,Material:n,Preview:r},props:{modelValue:{type:[String,Array],default:function(){return[]}},type:{type:String,default:"image"},size:{type:String,default:"100px"},fileSize:{type:String,default:"100px"},limit:{type:Number,default:1},disabled:{type:Boolean,default:!1},hiddenUpload:{type:Boolean,default:!1},uploadClass:{type:String,default:""},excludeDomain:{type:Boolean,default:!1}},emits:["change","update:modelValue"],setup:function(t,a){var i=a.emit,l=f(),n=f(),r=f(""),u=f(!1),d=f([]),s=f([]),c=f(!0),p=f(-1),h=m(t),w=h.disabled,x=h.limit,C=h.modelValue,U=o().getImageUrl,P=v((function(){switch(t.type){case"image":return"图片";case"video":return"视频";default:return""}})),S=v((function(){return t.limit-d.value.length>0})),j=v((function(){return c.value?-1==x.value?null:x.value-d.value.length:1})),z=R((function(){var a=s.value.map((function(e){return t.excludeDomain?e.url:e.uri}));c.value?d.value=[].concat(e(d.value),e(a)):d.value.splice(p.value,1,a.shift()),_()}),1e3,!1),_=function(){var e=1!=x.value?d.value:d.value[0]||"";i("update:modelValue",e),i("change",e),A()},A=function(){y((function(){var e;t.hiddenUpload&&(d.value=[]),null===(e=n.value)||void 0===e||e.clearSelect()}))};return b(C,(function(e){d.value=Array.isArray(e)?e:""==e?[]:[e]}),{immediate:!0}),g("limit",t.limit),g("hiddenUpload",t.hiddenUpload),{popupRef:l,materialRef:n,fileList:d,tipsText:P,handleConfirm:z,meterialLimit:j,showUpload:S,showPopup:function(e){var t;w.value||(e>=0?(c.value=!1,p.value=e):c.value=!0,null===(t=l.value)||void 0===t||t.open())},selectChange:function(e){s.value=e},deleteImg:function(e){d.value.splice(e,1),_()},previewUrl:r,showPreview:u,handlePreview:function(e){r.value=e,u.value=!0},handleClose:A,getImageUrl:U}}}),O=function(e){return L("data-v-4624db3d"),e=e(),D(),e},T={class:"material-select"},B=["onClick"],M={class:"operation-btns text-xs text-center"},$=O((function(){return S("span",null,"修改",-1)})),F=k(" | "),H=["onClick"],J=O((function(){return S("span",null,"添加",-1)})),N={class:"material-wrap"};t("_",u(E,[["render",function(e,t,l,r,o,u){var c=h("file-item"),p=s,f=h("draggable"),m=d,v=n,b=i,g=a,y=h("preview");return w(),x("div",T,[C(g,{ref:"popupRef",width:"830px","custom-class":"body-padding",title:"选择".concat(e.tipsText),onConfirm:e.handleConfirm,onClose:e.handleClose},U({default:P((function(){return[C(b,null,{default:P((function(){return[S("div",N,[C(v,{ref:"materialRef",type:e.type,"file-size":e.fileSize,limit:e.meterialLimit,onChange:e.selectChange},null,8,["type","file-size","limit","onChange"])])]})),_:1})]})),_:2},[e.hiddenUpload?void 0:{name:"trigger",fn:P((function(){return[S("div",{class:"material-select__trigger clearfix",onClick:t[2]||(t[2]=z((function(){}),["stop"]))},[C(f,{class:"draggable",modelValue:e.fileList,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.fileList=t}),animation:"300","item-key":"id"},{item:P((function(t){var a=t.element,i=t.index;return[S("div",{class:j(["material-preview",{"is-disabled":e.disabled,"is-one":1==e.limit}]),onClick:function(t){return e.showPopup(i)}},[C(p,{onClose:function(t){return e.deleteImg(i)}},{default:P((function(){return[C(c,{uri:e.excludeDomain?e.getImageUrl(a):a,"file-size":e.size,type:e.type},null,8,["uri","file-size","type"])]})),_:2},1032,["onClose"]),S("div",M,[$,F,S("span",{onClick:z((function(t){return e.handlePreview(a)}),["stop"])},"查看",8,H)])],10,B)]})),_:1},8,["modelValue"]),_(S("div",{class:j(["material-upload",(a={"is-disabled":e.disabled,"is-one":1==e.limit},i=e.uploadClass,l=!0,i in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a)]),onClick:t[1]||(t[1]=function(t){return e.showPopup(-1)})},[I(e.$slots,"upload",{},(function(){return[S("div",{class:"upload-btn",style:V({width:e.size,height:e.size})},[C(m,{size:25,name:"el-icon-Plus"}),J],4)]}),!0)],2),[[A,e.showUpload]])])];var a,i,l}))}]),1032,["title","onConfirm","onClose"]),C(y,{modelValue:e.showPreview,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.showPreview=t}),url:e.previewUrl,type:e.type},null,8,["modelValue","url","type"])])}],["__scopeId","data-v-4624db3d"]]))}}}))}();
