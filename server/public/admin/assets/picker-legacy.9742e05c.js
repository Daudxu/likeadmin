!function(){var e=document.createElement("style");e.innerHTML=".material-select .material-upload[data-v-4624db3d],.material-select .material-preview[data-v-4624db3d]{position:relative;border-radius:4px;cursor:pointer;margin-right:8px;margin-bottom:8px;box-sizing:border-box;float:left}.material-select .material-upload.is-disabled[data-v-4624db3d],.material-select .material-preview.is-disabled[data-v-4624db3d]{cursor:not-allowed}.material-select .material-upload.is-one[data-v-4624db3d],.material-select .material-preview.is-one[data-v-4624db3d]{margin-bottom:0}.material-select .material-upload:hover .operation-btns[data-v-4624db3d],.material-select .material-preview:hover .operation-btns[data-v-4624db3d]{display:block}.material-select .material-upload .operation-btns[data-v-4624db3d],.material-select .material-preview .operation-btns[data-v-4624db3d]{display:none;position:absolute;bottom:0;border-radius:4px;width:100%;line-height:2;color:#fff;background-color:rgba(0,0,0,.3)}.material-select .material-upload[data-v-4624db3d] .upload-btn{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:.25rem;border-width:1px;border-style:dashed;border-color:var(--el-border-color);color:var(--el-text-color-secondary)}.material-wrap[data-v-4624db3d]{min-width:720px;height:430px;border-top-width:1px;border-bottom-width:1px;border-color:var(--el-border-color)}\n",document.head.appendChild(e),System.register(["./index-legacy.2816f21b.js","./element-plus-legacy.9a978554.js","./index-legacy.d7d84323.js","./index-legacy.42d35444.js","./index-legacy.546638f2.js","./vuedraggable-legacy.c3200c05.js","./@vue-legacy.6b85f8d1.js","./@vueuse-legacy.157488cf.js"],(function(e){"use strict";var a,l,t,i,d,o,r,s,n,u,p,m,c,v,b,g,f,h,y,w,x,C,U,z,P,_,V,j,k,S,I,L,D,R;return{setters:[e=>{a=e.P},e=>{l=e.E},e=>{t=e.F,i=e._,d=e.a},e=>{o=e.u,r=e.d,s=e.b},e=>{n=e._},e=>{u=e.D},e=>{p=e.d,m=e.r,c=e.a5,v=e.e,b=e.w,g=e.E,f=e.n,h=e.a6,y=e.o,w=e.c,x=e.W,C=e.aa,U=e.O,z=e.a,P=e.R,_=e.$,V=e.P,j=e.Q,k=e.J,S=e.a0,I=e.U,L=e.b9,D=e.b8},e=>{R=e.f}],execute:function(){const A=p({components:{Popup:a,Draggable:u,FileItem:t,Material:i,Preview:d},props:{modelValue:{type:[String,Array],default:()=>[]},type:{type:String,default:"image"},size:{type:String,default:"100px"},fileSize:{type:String,default:"100px"},limit:{type:Number,default:1},disabled:{type:Boolean,default:!1},hiddenUpload:{type:Boolean,default:!1},uploadClass:{type:String,default:""},excludeDomain:{type:Boolean,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:a}){const l=m(),t=m(),i=m(""),d=m(!1),r=m([]),s=m([]),n=m(!0),u=m(-1),{disabled:p,limit:h,modelValue:y}=c(e),{getImageUrl:w}=o(),x=v((()=>{switch(e.type){case"image":return"图片";case"video":return"视频";default:return""}})),C=v((()=>e.limit-r.value.length>0)),U=v((()=>n.value?-1==h.value?null:h.value-r.value.length:1)),z=R((()=>{const a=s.value.map((a=>e.excludeDomain?a.url:a.uri));n.value?r.value=[...r.value,...a]:r.value.splice(u.value,1,a.shift()),P()}),1e3,!1),P=()=>{const e=1!=h.value?r.value:r.value[0]||"";a("update:modelValue",e),a("change",e),_()},_=()=>{f((()=>{e.hiddenUpload&&(r.value=[]),t.value?.clearSelect()}))};return b(y,(e=>{r.value=Array.isArray(e)?e:""==e?[]:[e]}),{immediate:!0}),g("limit",e.limit),g("hiddenUpload",e.hiddenUpload),{popupRef:l,materialRef:t,fileList:r,tipsText:x,handleConfirm:z,meterialLimit:U,showUpload:C,showPopup:e=>{p.value||(e>=0?(n.value=!1,u.value=e):n.value=!0,l.value?.open())},selectChange:e=>{s.value=e},deleteImg:e=>{r.value.splice(e,1),P()},previewUrl:i,showPreview:d,handlePreview:e=>{i.value=e,d.value=!0},handleClose:_,getImageUrl:w}}}),B=e=>(L("data-v-4624db3d"),e=e(),D(),e),E={class:"material-select"},T=["onClick"],$={class:"operation-btns text-xs text-center"},F=B((()=>z("span",null,"修改",-1))),M=I(" | "),H=["onClick"],J=B((()=>z("span",null,"添加",-1))),N={class:"material-wrap"};e("_",r(A,[["render",function(e,t,d,o,r,u){const p=h("file-item"),m=n,c=h("draggable"),v=s,b=i,g=l,f=a,I=h("preview");return y(),w("div",E,[x(f,{ref:"popupRef",width:"830px","custom-class":"body-padding",title:`选择${e.tipsText}`,onConfirm:e.handleConfirm,onClose:e.handleClose},C({default:U((()=>[x(g,null,{default:U((()=>[z("div",N,[x(b,{ref:"materialRef",type:e.type,"file-size":e.fileSize,limit:e.meterialLimit,onChange:e.selectChange},null,8,["type","file-size","limit","onChange"])])])),_:1})])),_:2},[e.hiddenUpload?void 0:{name:"trigger",fn:U((()=>[z("div",{class:"material-select__trigger clearfix",onClick:t[2]||(t[2]=_((()=>{}),["stop"]))},[x(c,{class:"draggable",modelValue:e.fileList,"onUpdate:modelValue":t[0]||(t[0]=a=>e.fileList=a),animation:"300","item-key":"id"},{item:U((({element:a,index:l})=>[z("div",{class:P(["material-preview",{"is-disabled":e.disabled,"is-one":1==e.limit}]),onClick:a=>e.showPopup(l)},[x(m,{onClose:a=>e.deleteImg(l)},{default:U((()=>[x(p,{uri:e.excludeDomain?e.getImageUrl(a):a,"file-size":e.size,type:e.type},null,8,["uri","file-size","type"])])),_:2},1032,["onClose"]),z("div",$,[F,M,z("span",{onClick:_((l=>e.handlePreview(a)),["stop"])},"查看",8,H)])],10,T)])),_:1},8,["modelValue"]),V(z("div",{class:P(["material-upload",{"is-disabled":e.disabled,"is-one":1==e.limit,[e.uploadClass]:!0}]),onClick:t[1]||(t[1]=a=>e.showPopup(-1))},[k(e.$slots,"upload",{},(()=>[z("div",{class:"upload-btn",style:S({width:e.size,height:e.size})},[x(v,{size:25,name:"el-icon-Plus"}),J],4)]),!0)],2),[[j,e.showUpload]])])]))}]),1032,["title","onConfirm","onClose"]),x(I,{modelValue:e.showPreview,"onUpdate:modelValue":t[3]||(t[3]=a=>e.showPreview=a),url:e.previewUrl,type:e.type},null,8,["modelValue","url","type"])])}],["__scopeId","data-v-4624db3d"]]))}}}))}();
