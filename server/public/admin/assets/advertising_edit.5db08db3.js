import{d as O,r as n,j as T,l as z,m as G,o as r,c as v,a as u,w as o,h as t,V as F,bR as C,f as _,e as x,t as J,i as U,g as E,E as K}from"./index.fe71d24f.js";import{E as Q,a as W}from"./el-form-item.ab4abc98.js";import{E as X}from"./el-switch.a525b748.js";import{E as Y}from"./el-radio.3e812177.js";import{E as Z}from"./el-input.560a1fde.js";import"./el-tag.fa1ebf99.js";import{E as ee,a as ae}from"./el-select.92720d7b.js";import{E as le}from"./el-card.fc4013e2.js";import{E as te}from"./el-page-header.4cdc4984.js";import{e as ue,b as oe,f as se,g as ne,h as re}from"./decoration.55f816c2.js";import{F as ie}from"./index.166f7b49.js";import{_ as de}from"./index.8bfa2020.js";import"./isEqual.b744079a.js";import"./validator.9ed9a534.js";import"./event.776e7e11.js";import"./index.8975b69d.js";import"./index.83926de1.js";import"./scroll.4a599799.js";import"./index.ad6b6cc0.js";import"./el-overlay.f04a9aa9.js";import"./material.ebd5c829.js";import"./el-loading.1a8c64b6.js";import"./index.7d9df8fd.js";import"./el-table-column.345d31f3.js";import"./el-checkbox.afd06c1e.js";import"./el-tree.2b7bbe9f.js";import"./el-popover.cc613b33.js";import"./pages.a53b74f0.js";import"./el-image-viewer.0bce6cf3.js";const me={class:"muted"},pe=E("\u5546\u57CE\u9875\u9762"),_e=E("\u81EA\u5B9A\u4E49\u94FE\u63A5"),ce=E("\u4FDD\u5B58"),ze=O({__name:"advertising_edit",setup(fe){const k=n(),{router:g,route:L}=T(),d=L.query.id;let e=n({name:"",image:"",pid:"",link_type:1,link_address:"",sort:0,status:1}),V=n([]),A=n([]);n([]);const m=n(""),b=n(""),p=n(""),P=z({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"}],link_address:[{required:!0,message:"\u94FE\u63A5\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:[]}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001",trigger:"change"}]}),S=async s=>{switch(e.value=await ue({id:s}),e.value.link_type){case 1:m.value=e.value.link_address;break;case 2:b.value=e.value.link_address;break;case 3:p.value=e.value.link_address;break}},h=async()=>{const s=await oe();V.value=s.lists},q=async()=>{A.value=await se()},N=async()=>{await ne({...e.value}),g.back()},R=async()=>{await re({...e.value}),g.back()},j=s=>{switch(e.value.link_type){case 1:e.value.link_address=m.value;break;case 2:e.value.link_address=b.value;break;case 3:e.value.link_address=p.value;break}!s||s.validate(l=>{if(!l)return!1;d?R():N()})};return G(()=>{d&&S(d),h(),q()}),(s,l)=>{const $=te,y=le,c=Z,i=Q,B=ee,D=ae,w=Y,I=X,H=W,M=K;return r(),v(F,null,[u(y,{shadow:"never"},{default:o(()=>[u($,{content:t(d)?"\u7F16\u8F91\u5E7F\u544A":"\u65B0\u589E\u5E7F\u544A",onBack:l[0]||(l[0]=a=>s.$router.back())},null,8,["content"])]),_:1}),u(H,{ref_key:"formRef",ref:k,model:t(e),rules:P,"label-width":"120px",class:"formData"},{default:o(()=>[u(y,{shadow:"never",style:{"margin-top":"15px"}},{default:o(()=>[u(i,{label:"\u5E7F\u544A\u540D\u79F0:",prop:"name"},{default:o(()=>[u(c,{class:"ls-input",modelValue:t(e).name,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).name=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(i,{label:"\u5E7F\u544A\u4F4D\u7F6E:",prop:"name"},{default:o(()=>[u(D,{modelValue:t(e).pid,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).pid=a),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(r(!0),v(F,null,C(t(V),(a,f)=>(r(),_(B,{key:f,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(i,{label:"\u56FE\u6807:"},{default:o(()=>[u(de,{modelValue:t(e).image,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).image=a),limit:1},null,8,["modelValue"]),x("div",me," \u5EFA\u8BAE\u5C3A\u5BF8\uFF1A\u5BBD750*\u9AD8 "+J(t(e).pid==2?"200":"340")+" \u50CF\u7D20\u7684jpg\uFF0Cjpeg\uFF0Cpng\uFF0Cgif\u56FE\u7247 ",1)]),_:1}),u(i,{label:"\u94FE\u63A5\u5730\u5740:",prop:"link_address"},{default:o(()=>[u(w,{modelValue:t(e).link_type,"onUpdate:modelValue":l[4]||(l[4]=a=>t(e).link_type=a),name:"1",label:1},{default:o(()=>[pe]),_:1},8,["modelValue"]),u(w,{modelValue:t(e).link_type,"onUpdate:modelValue":l[5]||(l[5]=a=>t(e).link_type=a),name:"3",label:3},{default:o(()=>[_e]),_:1},8,["modelValue"]),x("div",null,[t(e).link_type===1?(r(),_(D,{key:0,modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=a=>m.value=a),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(r(!0),v(F,null,C(t(A),(a,f)=>(r(),_(B,{key:f,label:a.name,value:a.index+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):U("",!0),t(e).link_type===3?(r(),_(c,{key:1,class:"ls-input",modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=a=>p.value=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):U("",!0)])]),_:1}),u(i,{label:"\u6392\u5E8F:"},{default:o(()=>[u(c,{class:"ls-input",modelValue:t(e).sort,"onUpdate:modelValue":l[8]||(l[8]=a=>t(e).sort=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(i,{label:"\u72B6\u6001:",prop:"status"},{default:o(()=>[u(I,{modelValue:t(e).status,"onUpdate:modelValue":l[9]||(l[9]=a=>t(e).status=a),"active-text":t(e).status?"\u542F\u7528":"\u5173\u95ED","active-value":1,"inactive-value":0},null,8,["modelValue","active-text"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),u(ie,null,{default:o(()=>[u(M,{type:"primary",onClick:l[10]||(l[10]=a=>j(k.value))},{default:o(()=>[ce]),_:1})]),_:1})],64)}}});export{ze as default};
