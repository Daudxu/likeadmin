System.register(["./element-plus-legacy.9a978554.js","./department-legacy.26bea14e.js","./index-legacy.2816f21b.js","./useDictOptions-legacy.03046ea3.js","./@vue-legacy.6b85f8d1.js"],(function(e){"use strict";var l,a,t,d,o,u,s,r,i,n,p,m,c,f,b,g,v,V,y,_,h,x,w,U,j;return{setters:[e=>{l=e.Z,a=e.D,t=e.C,d=e.v,o=e.t,u=e.F},e=>{s=e.d,r=e.a,i=e.b,n=e.c},e=>{p=e.P},e=>{m=e.u},e=>{c=e.d,f=e.s,b=e.r,g=e.e,v=e.a1,V=e.o,y=e.c,_=e.W,h=e.O,x=e.M,w=e.u,U=e.T,j=e.a}],execute:function(){const k={class:"edit-popup"},D=j("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1);e("_",c({__name:"edit",emits:["success","close"],setup(e,{expose:c,emit:C}){const q=f(),F=f(),O=b("add"),R=g((()=>"edit"==O.value?"编辑部门":"新增部门")),E=v({id:"",pid:"",name:"",leader:"",mobile:"",sort:0,status:1}),M={pid:[{required:!0,message:"请选择上级部门",trigger:["change"]}],name:[{required:!0,message:"请输入部门名称",trigger:["blur"]}],mobile:[{validator:(e,l,a)=>{if(!l)return a();{const e=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;if(console.log(e.test(l)),!e.test(l))return a(new Error("请输入正确的手机号"));a()}},trigger:["blur"]}]},{optionsData:P}=m({dept:{api:s}}),S=async()=>{await(q.value?.validate()),"edit"==O.value?await r(E):await i(E),F.value?.close(),C("success")},T=e=>{for(const l in E)null!=e[l]&&null!=e[l]&&(E[l]=e[l])},W=()=>{C("close")};return c({open:(e="add")=>{O.value=e,F.value?.open()},setFormData:T,getDetail:async e=>{const l=await n({id:e.id});T(l)}}),(e,s)=>{const r=l,i=a,n=t,m=d,c=o,f=u;return V(),y("div",k,[_(p,{ref_key:"popupRef",ref:F,title:w(R),async:!0,width:"550px",onConfirm:S,onClose:W},{default:h((()=>[_(f,{ref_key:"formRef",ref:q,model:E,"label-width":"84px",rules:M},{default:h((()=>[0!==E.pid?(V(),x(i,{key:0,label:"上级部门",prop:"pid"},{default:h((()=>[_(r,{class:"flex-1",modelValue:E.pid,"onUpdate:modelValue":s[0]||(s[0]=e=>E.pid=e),data:w(P).dept,clearable:"","node-key":"id",props:{value:"id",label:"name"},"check-strictly":"","default-expand-all":!0,placeholder:"请选择上级部门"},null,8,["modelValue","data"])])),_:1})):U("",!0),_(i,{label:"部门名称",prop:"name"},{default:h((()=>[_(n,{modelValue:E.name,"onUpdate:modelValue":s[1]||(s[1]=e=>E.name=e),placeholder:"请输入部门名称",maxlength:100},null,8,["modelValue"])])),_:1}),_(i,{label:"负责人",prop:"leader"},{default:h((()=>[_(n,{modelValue:E.leader,"onUpdate:modelValue":s[2]||(s[2]=e=>E.leader=e),placeholder:"请输入负责人姓名",maxlength:30},null,8,["modelValue"])])),_:1}),_(i,{label:"联系电话",prop:"mobile"},{default:h((()=>[_(n,{modelValue:E.mobile,"onUpdate:modelValue":s[3]||(s[3]=e=>E.mobile=e),placeholder:"请输入联系电话"},null,8,["modelValue"])])),_:1}),_(i,{label:"排序",prop:"sort"},{default:h((()=>[j("div",null,[_(m,{modelValue:E.sort,"onUpdate:modelValue":s[4]||(s[4]=e=>E.sort=e),min:0,max:9999},null,8,["modelValue"]),D])])),_:1}),_(i,{label:"部门状态"},{default:h((()=>[_(c,{modelValue:E.status,"onUpdate:modelValue":s[5]||(s[5]=e=>E.status=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title"])])}}}))}}}));
