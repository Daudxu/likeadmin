var V=Object.defineProperty;var _=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var z=(e,a,t)=>a in e?V(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,b=(e,a)=>{for(var t in a||(a={}))w.call(a,t)&&z(e,t,a[t]);if(_)for(var t of _(a))j.call(a,t)&&z(e,t,a[t]);return e};import{_ as h}from"./index.51b4b37f.js";import{d as B,q as E,C as T,a as p,b as c,c as S,e as g,l as $,f,aa as A,w as i,m,t as v,k,h as P,ab as D,r as N}from"./vendor.af1b6401.js";const F=B({components:{},emits:["confirm","cancel"],props:{title:{type:String,default:""},content:{type:String,default:"\u786E\u8BA4\u8981\u5220\u9664\uFF1F"},confirmButtonText:{type:[String,Boolean],default:"\u786E\u8BA4"},cancelButtonText:{type:[String,Boolean],default:"\u53D6\u6D88"},width:{type:String,default:"400px"},disabled:{type:Boolean,default:!1},async:{type:Boolean,default:!1},clickModalClose:{type:Boolean,default:!0},customClass:{type:String,default:""}},setup(e,{emit:a}){const t=E(!1),r=l=>{a(l),(!e.async||l==="cancel")&&s()},s=()=>{t.value=!1},o=()=>{e.disabled||(t.value=!0)};return T("visible",t),{visible:t,handleEvent:r,close:s,open:o}}}),O={class:"dialog"},U={class:"dialog-footer"};function q(e,a,t,r,s,o){const l=p("warning-filled"),u=p("el-icon"),y=p("el-button"),n=p("el-dialog");return c(),S("div",O,[g("div",{class:"dialog__trigger",onClick:a[0]||(a[0]=(...d)=>e.open&&e.open(...d))},[$(e.$slots,"trigger",{},void 0,!0)]),f(n,{modelValue:e.visible,"onUpdate:modelValue":a[3]||(a[3]=d=>e.visible=d),"custom-class":e.customClass,"append-to-body":!0,width:e.width,"close-on-click-modal":e.clickModalClose},A({footer:i(()=>[g("div",U,[e.cancelButtonText?(c(),k(y,{key:0,size:"small",onClick:a[1]||(a[1]=d=>e.handleEvent("cancel"))},{default:i(()=>[m(v(e.cancelButtonText),1)]),_:1})):P("",!0),e.confirmButtonText?(c(),k(y,{key:1,size:"small",onClick:a[2]||(a[2]=d=>e.handleEvent("confirm")),type:"primary"},{default:i(()=>[m(v(e.confirmButtonText),1)]),_:1})):P("",!0)])]),default:i(()=>[$(e.$slots,"default",{},()=>[m(v(e.content),1)],!0)]),_:2},[e.title?{name:"title",fn:i(()=>[m(v(e.title),1)])}:{name:"title",fn:i(()=>[g("div",{class:"flex col-center"},[f(u,{size:25,color:e.$variables.color_warning},{default:i(()=>[f(l)]),_:1},8,["color"]),g("span",{class:"m-l-6"},"\u6E29\u99A8\u63D0\u793A")])])}]),1032,["modelValue","custom-class","width","close-on-click-modal"])])}var K=h(F,[["render",q],["__scopeId","data-v-ed09c9c6"]]);let C={};function L(e){let{page:a=1,size:t=15,callback:r,params:s={}}=e;C=Object.assign({},D(s));const o=N({page:a,size:t,loading:!1,count:0,lists:[]}),l=()=>o.loading?Promise.reject():(o.loading=!0,r(b({page_no:o.page,page_size:o.size},s)).then(n=>(o.count=n==null?void 0:n.count,o.lists=n==null?void 0:n.lists,Promise.resolve(n))).catch(n=>Promise.reject(n)).finally(()=>{o.loading=!1}));return{pager:o,requestApi:l,resetParams:()=>{Object.keys(C).forEach(n=>{s[n]=C[n]}),l()},resetPage:()=>{o.page=1,l()}}}const I=B({components:{},props:{modelValue:{type:Object,default:()=>({})},pageSizes:{type:Array,default:()=>[10,20,30,40]},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"}},emits:["change"],setup(e,{emit:a}){return{sizeChange:()=>{e.modelValue.page=1,a("change")},pageChange:()=>{a("change")}}}}),M={class:"pagination"};function R(e,a,t,r,s,o){const l=p("el-pagination");return c(),S("div",M,[f(l,{currentPage:e.modelValue.page,"onUpdate:currentPage":a[0]||(a[0]=u=>e.modelValue.page=u),pageSize:e.modelValue.size,"onUpdate:pageSize":a[1]||(a[1]=u=>e.modelValue.size=u),"page-sizes":e.pageSizes,layout:e.layout,total:e.modelValue.count,onSizeChange:e.sizeChange,onCurrentChange:e.pageChange,"hide-on-single-page":""},null,8,["currentPage","pageSize","page-sizes","layout","total","onSizeChange","onCurrentChange"])])}var Q=h(I,[["render",R]]);export{Q as P,K as a,L as u};
