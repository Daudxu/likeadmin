import{T as C,E as b}from"./@wangeditor.78a84bf3.js";import{_ as w}from"./picker.2af54269.js";import{g as f}from"./index.bfaa543c.js";import{d as x,s as m,r as V,e as c,F as k,o as U,c as B,W as i,u as l,k as E,a0 as R}from"./@vue.af680e04.js";const A=x({__name:"index",props:{modelValue:{default:""},mode:{default:"default"},height:{default:"100%"},width:{default:"auto"},toolbarConfig:{default:()=>({excludeKeys:["fullScreen"]})}},emits:["update:modelValue"],setup(t,{emit:p}){const a=t,d=m(),n=m(),r=V("");let u;const g={MENU_CONF:{uploadImage:{customBrowseAndUpload(e){var o;r.value="image",(o=n.value)==null||o.showPopup(-1),u=e}},uploadVideo:{customBrowseAndUpload(e){var o;r.value="video",(o=n.value)==null||o.showPopup(-1),u=e}}}},h=c(()=>({height:f(a.height),width:f(a.width)})),s=c({get(){return a.modelValue},set(e){p("update:modelValue",e)}}),v=e=>{e.forEach(o=>{u(o)})};k(()=>{const e=d.value;e!=null&&e.destroy()});const _=e=>{d.value=e};return(e,o)=>(U(),B("div",{class:"border border-br flex flex-col",style:R(l(h))},[i(l(C),{class:"border-b border-br",editor:l(d),defaultConfig:t.toolbarConfig,mode:t.mode},null,8,["editor","defaultConfig","mode"]),i(l(b),{class:"overflow-y-auto flex-1",modelValue:l(s),"onUpdate:modelValue":o[0]||(o[0]=y=>E(s)?s.value=y:null),defaultConfig:g,mode:t.mode,onOnCreated:_},null,8,["modelValue","mode"]),i(w,{ref_key:"materialPickerRef",ref:n,type:r.value,limit:-1,"hidden-upload":"",onChange:v},null,8,["type"])],4))}});export{A as _};
