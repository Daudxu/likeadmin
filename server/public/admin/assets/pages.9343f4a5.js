import{b5 as g,l as u}from"./index.f6e05cbe.js";let n={};function P(o){const{page:i=1,size:r=15,callback:c,params:t={},firstLoading:l=!1}=o;n=Object.assign({},g(t));const e=u({page:i,size:r,loading:l,count:0,lists:[]}),s=()=>(e.loading=!0,c({page_no:e.page,page_size:e.size,...t}).then(a=>(e.count=a==null?void 0:a.count,e.lists=a==null?void 0:a.lists,Promise.resolve(a))).catch(a=>Promise.reject(a)).finally(()=>{e.loading=!1}));return{pager:e,requestApi:s,resetParams:()=>{Object.keys(n).forEach(a=>{t[a]=n[a]}),s()},resetPage:()=>{e.page=1,s()}}}export{P as u};
