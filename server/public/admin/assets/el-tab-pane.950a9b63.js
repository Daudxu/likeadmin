import{ac as K,ad as L,aA as ae,d as U,z as Y,ag as G,P as j,r as C,K as O,N as J,aj as se,j as ne,k as le,V as oe,n as x,a0 as pe,$ as re,aB as A,M as X,aC as Q,aD as he,aE as ge,e as D,o as ce,ai as ye,m as b,aF as V,aG as _e,aH as Ne,aI as Te,aJ as I,U as ie,f as ue,aK as Pe,a1 as we,aL as Ce,W as de,D as Ee,F as Se,aM as Z,O as $e,aN as ee,aO as Be,R as xe,aP as Oe,Y as ke,a3 as Re,a4 as ze}from"./index.7262943b.js";const H=Symbol("tabsRootContextKey"),Fe=K({tabs:{type:L(Array),default:()=>ae([])}}),Ae={name:"ElTabBar"},Me=U({...Ae,props:Fe,setup(e,{expose:c}){const B=e,T="ElTabBar",n=X(),_=Y(H);_||G(T,"<el-tabs><el-tab-bar /></el-tabs>");const m=j("tabs"),i=C(),p=C(),u=()=>{let l=0,E=0;const h=["top","bottom"].includes(_.props.tabPosition)?"width":"height",o=h==="width"?"x":"y";return B.tabs.every(t=>{var g,f,S,k;const R=(f=(g=n.parent)==null?void 0:g.refs)==null?void 0:f[`tab-${t.paneName}`];if(!R)return!1;if(!t.active)return!0;E=R[`client${A(h)}`];const M=o==="x"?"left":"top";l=R.getBoundingClientRect()[M]-((k=(S=R.parentElement)==null?void 0:S.getBoundingClientRect()[M])!=null?k:0);const z=window.getComputedStyle(R);return h==="width"&&(B.tabs.length>1&&(E-=Number.parseFloat(z.paddingLeft)+Number.parseFloat(z.paddingRight)),l+=Number.parseFloat(z.paddingLeft)),!1}),{[h]:`${E}px`,transform:`translate${A(o)}(${l}px)`}},v=()=>p.value=u();return O(()=>B.tabs,async()=>{await J(),v()},{immediate:!0}),se(i,()=>v()),c({ref:i,update:v}),(l,E)=>(ne(),le("div",{ref_key:"barRef",ref:i,class:oe([x(m).e("active-bar"),x(m).is(x(_).props.tabPosition)]),style:pe(p.value)},null,6))}});var Le=re(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const De=K({panes:{type:L(Array),default:()=>ae([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:L(Function),default:Q},onTabRemove:{type:L(Function),default:Q},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),te="ElTabNav",Ve=U({name:te,props:De,setup(e,{expose:c}){const B=X(),T=Y(H);T||G(te,"<el-tabs><tab-nav /></el-tabs>");const n=j("tabs"),_=he(),m=ge(),i=C(),p=C(),u=C(),v=C(!1),l=C(0),E=C(!1),h=C(!0),o=D(()=>["top","bottom"].includes(T.props.tabPosition)?"width":"height"),t=D(()=>({transform:`translate${o.value==="width"?"X":"Y"}(-${l.value}px)`})),g=()=>{if(!i.value)return;const a=i.value[`offset${A(o.value)}`],r=l.value;if(!r)return;const s=r>a?r-a:0;l.value=s},f=()=>{if(!i.value||!p.value)return;const a=p.value[`offset${A(o.value)}`],r=i.value[`offset${A(o.value)}`],s=l.value;if(a-s<=r)return;const P=a-s>r*2?s+r:a-r;l.value=P},S=async()=>{const a=p.value;if(!v.value||!u.value||!i.value||!a)return;await J();const r=u.value.querySelector(".is-active");if(!r)return;const s=i.value,P=["top","bottom"].includes(T.props.tabPosition),N=r.getBoundingClientRect(),y=s.getBoundingClientRect(),$=P?a.offsetWidth-y.width:a.offsetHeight-y.height,w=l.value;let d=w;P?(N.left<y.left&&(d=w-(y.left-N.left)),N.right>y.right&&(d=w+N.right-y.right)):(N.top<y.top&&(d=w-(y.top-N.top)),N.bottom>y.bottom&&(d=w+(N.bottom-y.bottom))),d=Math.max(d,0),l.value=Math.min(d,$)},k=()=>{if(!p.value||!i.value)return;const a=p.value[`offset${A(o.value)}`],r=i.value[`offset${A(o.value)}`],s=l.value;if(r<a){const P=l.value;v.value=v.value||{},v.value.prev=P,v.value.next=P+r<a,a-P<r&&(l.value=a-r)}else v.value=!1,s>0&&(l.value=0)},R=a=>{const r=a.code,{up:s,down:P,left:N,right:y}=I;if(![s,P,N,y].includes(r))return;const $=Array.from(a.currentTarget.querySelectorAll("[role=tab]")),w=$.indexOf(a.target);let d;r===N||r===s?w===0?d=$.length-1:d=w-1:w<$.length-1?d=w+1:d=0,$[d].focus(),$[d].click(),M()},M=()=>{h.value&&(E.value=!0)},z=()=>E.value=!1;return O(_,a=>{a==="hidden"?h.value=!1:a==="visible"&&setTimeout(()=>h.value=!0,50)}),O(m,a=>{a?setTimeout(()=>h.value=!0,50):h.value=!1}),se(u,k),ce(()=>setTimeout(()=>S(),0)),ye(()=>k()),c({scrollToActiveTab:S,removeFocus:z}),O(()=>e.panes,()=>B.update(),{flush:"post"}),()=>{const a=v.value?[b("span",{class:[n.e("nav-prev"),n.is("disabled",!v.value.prev)],onClick:g},[b(V,null,{default:()=>[b(_e,null,null)]})]),b("span",{class:[n.e("nav-next"),n.is("disabled",!v.value.next)],onClick:f},[b(V,null,{default:()=>[b(Ne,null,null)]})])]:null,r=e.panes.map((s,P)=>{var N,y,$,w;const d=(y=(N=s.props.name)!=null?N:s.index)!=null?y:`${P}`,W=s.isClosable||e.editable;s.index=`${P}`;const ve=W?b(V,{class:"is-icon-close",onClick:F=>e.onTabRemove(s,F)},{default:()=>[b(Te,null,null)]}):null,fe=((w=($=s.slots).label)==null?void 0:w.call($))||s.props.label,me=s.active?0:-1;return b("div",{ref:`tab-${d}`,class:[n.e("item"),n.is(T.props.tabPosition),n.is("active",s.active),n.is("disabled",s.props.disabled),n.is("closable",W),n.is("focus",E.value)],id:`tab-${d}`,key:`tab-${d}`,"aria-controls":`pane-${d}`,role:"tab","aria-selected":s.active,tabindex:me,onFocus:()=>M(),onBlur:()=>z(),onClick:F=>{z(),e.onTabClick(s,d,F)},onKeydown:F=>{W&&(F.code===I.delete||F.code===I.backspace)&&e.onTabRemove(s,F)}},[fe,ve])});return b("div",{ref:u,class:[n.e("nav-wrap"),n.is("scrollable",!!v.value),n.is(T.props.tabPosition)]},[a,b("div",{class:n.e("nav-scroll"),ref:i},[b("div",{class:[n.e("nav"),n.is(T.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(T.props.tabPosition))],ref:p,style:t.value,role:"tablist",onKeydown:R},[e.type?null:b(Le,{tabs:[...e.panes]},null),r])])])}}}),Ie=K({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:L(Function),default:()=>!0},stretch:Boolean}),q=e=>Ee(e)||Se(e),Ke={[ie]:e=>q(e),"tab-click":(e,c)=>c instanceof Event,"tab-change":e=>q(e),edit:(e,c)=>["remove","add"].includes(c),"tab-remove":e=>q(e),"tab-add":()=>!0};var Ue=U({name:"ElTabs",props:Ie,emits:Ke,setup(e,{emit:c,slots:B,expose:T}){var n,_;const m=j("tabs"),i=C(),p=ue({}),u=C((_=(n=e.modelValue)!=null?n:e.activeName)!=null?_:"0"),v=t=>{u.value=t,c(ie,t),c("tab-change",t)},l=async t=>{var g,f,S;if(!(u.value===t||Z(t)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,t,u.value))!==!1&&(v(t),(S=(f=i.value)==null?void 0:f.removeFocus)==null||S.call(f))}catch{}},E=(t,g,f)=>{t.props.disabled||(l(g),c("tab-click",t,f))},h=(t,g)=>{t.props.disabled||Z(t.props.name)||(g.stopPropagation(),c("edit",t.props.name,"remove"),c("tab-remove",t.props.name))},o=()=>{c("edit",void 0,"add"),c("tab-add")};return Pe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},D(()=>!!e.activeName)),O(()=>e.activeName,t=>l(t)),O(()=>e.modelValue,t=>l(t)),O(u,async()=>{var t;await J(),(t=i.value)==null||t.scrollToActiveTab()}),we(H,{props:e,currentName:u,registerPane:f=>p[f.uid]=f,unregisterPane:f=>delete p[f]}),T({currentName:u}),()=>{const t=e.editable||e.addable?b("span",{class:m.e("new-tab"),tabindex:"0",onClick:o,onKeydown:S=>{S.code===I.enter&&o()}},[b(V,{class:m.is("icon-plus")},{default:()=>[b(Ce,null,null)]})]):null,g=b("div",{class:[m.e("header"),m.is(e.tabPosition)]},[t,b(Ve,{ref:i,currentName:u.value,editable:e.editable,type:e.type,panes:Object.values(p),stretch:e.stretch,onTabClick:E,onTabRemove:h},null)]),f=b("div",{class:m.e("content")},[de(B,"default")]);return b("div",{class:[m.b(),m.m(e.tabPosition),{[m.m("card")]:e.type==="card",[m.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,f]:[f,g]])}}});const je=K({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),He=["id","aria-hidden","aria-labelledby"],We={name:"ElTabPane"},qe=U({...We,props:je,setup(e){const c=e,B="ElTabPane",T=X(),n=$e(),_=Y(H);_||G(B,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const m=j("tab-pane"),i=C(),p=D(()=>c.closable||_.props.closable),u=ee(()=>{var o;return _.currentName.value===((o=c.name)!=null?o:i.value)}),v=C(u.value),l=D(()=>{var o;return(o=c.name)!=null?o:i.value}),E=ee(()=>!c.lazy||v.value||u.value);O(u,o=>{o&&(v.value=!0)});const h=ue({uid:T.uid,slots:n,props:c,paneName:l,active:u,index:i,isClosable:p});return ce(()=>{_.registerPane(h)}),Be(()=>{_.unregisterPane(h.uid)}),(o,t)=>x(E)?xe((ne(),le("div",{key:0,id:`pane-${x(l)}`,class:oe(x(m).b()),role:"tabpanel","aria-hidden":!x(u),"aria-labelledby":`tab-${x(l)}`},[de(o.$slots,"default")],10,He)),[[Oe,x(u)]]):ke("v-if",!0)}});var be=re(qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Ge=Re(Ue,{TabPane:be}),Je=ze(be);export{Je as E,Ge as a};
