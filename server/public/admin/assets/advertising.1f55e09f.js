import{a as q,b as S,c as j,d as G}from"./decoration.2d766ef1.js";import{P as I}from"./index.bf392a60.js";import{P as M}from"./index.2ee39230.js";import{u as R}from"./pages.3811fcb2.js";import{d as T,r as $,m as z,n as H,e as o,aP as J,o as v,c as w,a as e,w as t,i as l,a1 as K,aN as O,f as g,ba as Q,g as V,G as W,h as c}from"./index.140321e9.js";const X={class:"estate"},Y={class:"m-l-20"},Z=c("\u67E5\u8BE2"),ee=c("\u91CD\u7F6E"),te=c("\u65B0\u589E\u5E7F\u544A"),ae={class:"flex col-center"},le=c("\u7F16\u8F91"),oe=c("\u5220\u9664"),ue={class:"flex row-right"},ce=T({__name:"advertising",setup(se){let h=$([]),s=z({name:"",status:"",pid:""});const{pager:r,requestApi:m,resetParams:C,resetPage:A}=R({callback:G,params:s}),x=async()=>{const i=await q();h.value=i.lists},y=async i=>{await S({id:i}),m()},D=async(i,u)=>{await j({status:i,id:u}),m()};return H(()=>{m(),x()}),(i,u)=>{const k=o("el-input"),p=o("el-form-item"),f=o("el-option"),F=o("el-select"),_=o("el-button"),P=o("el-form"),b=o("el-card"),E=o("router-link"),n=o("el-table-column"),B=o("el-image"),U=o("el-switch"),L=o("el-table"),N=J("loading");return v(),w("div",X,[e(b,{shadow:"never"},{default:t(()=>[e(P,{class:"ls-form",model:l(s),"label-width":"80px",inline:""},{default:t(()=>[e(p,{label:"\u5E7F\u544A\u540D\u79F0"},{default:t(()=>[e(k,{placeholder:"\u8BF7\u8F93\u5165\u5E7F\u544A\u4F4D\u6807\u9898",class:"ls-input",modelValue:l(s).name,"onUpdate:modelValue":u[0]||(u[0]=a=>l(s).name=a)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u5E7F\u544A\u4F4D\u7F6E"},{default:t(()=>[e(F,{modelValue:l(s).pid,"onUpdate:modelValue":u[1]||(u[1]=a=>l(s).pid=a),placeholder:"\u5168\u90E8"},{default:t(()=>[(v(!0),w(K,null,O(l(h),(a,d)=>(v(),V(f,{key:d,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u5E7F\u544A\u72B6\u6001"},{default:t(()=>[e(F,{modelValue:l(s).status,"onUpdate:modelValue":u[2]||(u[2]=a=>l(s).status=a),placeholder:"\u5168\u90E8"},{default:t(()=>[e(f,{label:"\u5168\u90E8",value:""}),e(f,{label:"\u542F\u7528",value:1}),e(f,{label:"\u505C\u7528",value:0})]),_:1},8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[g("div",Y,[e(_,{type:"primary",onClick:l(A)},{default:t(()=>[Z]),_:1},8,["onClick"]),e(_,{onClick:l(C)},{default:t(()=>[ee]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["model"])]),_:1}),Q((v(),V(b,{class:"m-t-15",shadow:"never"},{default:t(()=>[e(E,{to:"/decoration/advertising_edit"},{default:t(()=>[e(_,{type:"primary"},{default:t(()=>[te]),_:1})]),_:1}),g("div",null,[e(L,{class:"m-t-20",data:l(r).lists},{default:t(()=>[e(n,{label:"ID",prop:"id","min-width":"30"}),e(n,{label:"\u5E7F\u544A\u540D\u79F0",prop:"name"}),e(n,{label:"\u5E7F\u544A\u4F4D\u7F6E",prop:"ap_name"}),e(n,{label:"\u5E7F\u544A\u56FE\u7247",prop:"image"},{default:t(a=>[g("div",ae,[e(B,{src:a.row.image,style:{width:"60px",height:"60px"},fit:"cover"},null,8,["src"])])]),_:1}),e(n,{label:"\u5E7F\u544A\u94FE\u63A5",prop:"link_address_desc"}),e(n,{label:"\u6392\u5E8F",prop:"sort"}),e(n,{label:"\u5E7F\u544A\u72B6\u6001",prop:"status"},{default:t(a=>[e(U,{modelValue:a.row.status,"onUpdate:modelValue":d=>a.row.status=d,"active-value":1,"inactive-value":0,onChange:d=>D(d,a.row.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(n,{label:"\u64CD\u4F5C",width:"150",fixed:"right"},{default:t(a=>[e(E,{class:"m-r-10",to:{path:"/decoration/advertising_edit",query:{id:a.row.id}}},{default:t(()=>[e(_,{type:"text"},{default:t(()=>[le]),_:1})]),_:2},1032,["to"]),e(M,{class:"m-r-10 inline",onConfirm:d=>y(a.row.id)},{trigger:t(()=>[e(_,{type:"text"},{default:t(()=>[oe]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),g("div",ue,[e(I,{modelValue:l(r),"onUpdate:modelValue":u[3]||(u[3]=a=>W(r)?r.value=a:null),onChange:l(m),layout:"total, prev, pager, next, jumper"},null,8,["modelValue","onChange"])])]),_:1})),[[N,l(r).loading]])])}}});export{ce as default};
