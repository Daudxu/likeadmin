import{bE as E,d as I,s as C,f as K,dY as d,e as N,h as q,b1 as x,j as m,k as A,m as t,w as s,l as a,q as f,t as S,n as F,Q as L,Y as b}from"./index.7262943b.js";import{E as T,a as Q}from"./el-form-item.adebf638.js";import{E as j,a as G}from"./el-radio.616d5b13.js";import{P}from"./index.1b8c47a3.js";function ce(){return E.get("/setting.storage/lists")}function M(i){return E.post("/setting.storage/setup",i)}function z(i){return E.get("/setting.storage/detail",i)}const H={class:"edit-popup"},J={class:"h-[400px]"},W={class:"form-tips"},X={key:0},Z={class:"w-80"},$={class:"w-80"},ee={class:"w-80"},ue={class:"w-80"},te=a("div",{class:"form-tips"}," \u8BF7\u8865\u5168http://\u6216https://\uFF0C\u4F8B\u5982https://static.cloud.com ",-1),oe={class:"w-80"},se=f("\u505C\u7528"),le=f("\u542F\u7528"),ae=I({__name:"edit",emits:["success"],setup(i,{expose:k,emit:y}){const c=C(),p=C(),u=K({engine:"",bucket:"",access_key:"",secret_key:"",domain:"",region:"",status:0}),D=[{name:"\u672C\u5730\u5B58\u50A8",type:d.LOCAL,tips:"\u672C\u5730\u5B58\u50A8\u65B9\u5F0F\u4E0D\u9700\u8981\u914D\u7F6E\u5176\u4ED6\u53C2\u6570"},{name:"\u4E03\u725B\u4E91\u5B58\u50A8",type:d.QINIU,tips:"\u5207\u6362\u4E03\u725B\u4E91\u5B58\u50A8\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u4E03\u725B\u4E91"},{name:"\u963F\u91CC\u4E91OSS",type:d.ALIYUN,tips:"\u5207\u6362\u963F\u91CC\u4E91OSS\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u963F\u91CC\u4E91OSS"},{name:"\u817E\u8BAF\u4E91OSS",type:d.QCLOUD,tips:"\u5207\u6362\u817E\u8BAF\u4E91OSS\u540E\uFF0C\u7D20\u6750\u5E93\u9700\u8981\u91CD\u65B0\u4E0A\u4F20\u81F3\u817E\u8BAF\u4E91OSS"}],V={bucket:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B58\u50A8\u7A7A\u95F4\u540D\u79F0",trigger:"blur"}],access_key:[{required:!0,message:"\u8BF7\u8F93\u5165ACCESS_KEY",trigger:"blur"}],secret_key:[{required:!0,message:"\u8BF7\u8F93\u5165SECRET_KEY",trigger:"blur"}],domain:[{required:!0,message:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u57DF\u540D",trigger:"blur"}],region:[{required:!0,message:"\u8BF7\u8F93\u5165REGION",trigger:"blur"}]},g=N(()=>D.find(l=>l.type==u.engine)),v=async()=>{var l,e;await((l=c.value)==null?void 0:l.validate()),await M(u),(e=p.value)==null||e.close(),y("success")},h=async()=>{const l=await z({engine:u.engine});for(const e in l)u[e]=l[e]},w=l=>{var e;u.engine=l,(e=p.value)==null||e.open(),h()},O=()=>{var l;(l=c.value)==null||l.resetFields()};return k({open:w}),(l,e)=>{const _=j,n=T,r=q,R=G,U=Q,Y=x;return m(),A("div",H,[t(P,{ref_key:"popupRef",ref:p,title:"\u8BBE\u7F6E\u5B58\u50A8",async:!0,width:"700px",clickModalClose:!0,onConfirm:v,onClose:O},{default:s(()=>[a("div",J,[t(Y,null,{default:s(()=>[t(U,{ref_key:"formRef",ref:c,model:u,"label-width":"180px",rules:V},{default:s(()=>[t(n,{label:"\u5B58\u50A8\u65B9\u5F0F",prop:"engine"},{default:s(()=>{var o;return[a("div",null,[t(_,{"model-value":""},{default:s(()=>{var B;return[f(S((B=F(g))==null?void 0:B.name),1)]}),_:1}),a("div",W,S((o=F(g))==null?void 0:o.tips),1)])]}),_:1}),u.engine!=="local"?(m(),A("div",X,[t(n,{label:" \u5B58\u50A8\u7A7A\u95F4\u540D\u79F0(Bucket)",prop:"bucket"},{default:s(()=>[a("div",Z,[t(r,{modelValue:u.bucket,"onUpdate:modelValue":e[0]||(e[0]=o=>u.bucket=o),placeholder:"\u8BF7\u8F93\u5165\u5B58\u50A8\u7A7A\u95F4\u540D\u79F0(Bucket)"},null,8,["modelValue"])])]),_:1}),t(n,{label:"ACCESS_KEY\uFF08AK\uFF09",prop:"access_key"},{default:s(()=>[a("div",$,[t(r,{modelValue:u.access_key,"onUpdate:modelValue":e[1]||(e[1]=o=>u.access_key=o),placeholder:"\u8BF7\u8F93\u5165ACCESS_KEY"},null,8,["modelValue"])])]),_:1}),t(n,{label:"SECRET_KEY\uFF08SK\uFF09",prop:"secret_key"},{default:s(()=>[a("div",ee,[t(r,{modelValue:u.secret_key,"onUpdate:modelValue":e[2]||(e[2]=o=>u.secret_key=o),placeholder:"\u8BF7\u8F93\u5165SECRET_KEY"},null,8,["modelValue"])])]),_:1}),t(n,{label:"\u7A7A\u95F4\u57DF\u540D\uFF08Domain\uFF09",prop:"domain"},{default:s(()=>[a("div",null,[a("div",ue,[t(r,{modelValue:u.domain,"onUpdate:modelValue":e[3]||(e[3]=o=>u.domain=o),placeholder:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u57DF\u540D"},null,8,["modelValue"])]),te])]),_:1}),u.engine==F(d).QCLOUD?(m(),L(n,{key:0,label:"REGION",prop:"region"},{default:s(()=>[a("div",oe,[t(r,{modelValue:u.region,"onUpdate:modelValue":e[4]||(e[4]=o=>u.region=o),placeholder:"\u8BF7\u8F93\u5165region"},null,8,["modelValue"])])]),_:1})):b("",!0)])):b("",!0),t(n,{label:"\u72B6\u6001",prop:"status"},{default:s(()=>[t(R,{modelValue:u.status,"onUpdate:modelValue":e[5]||(e[5]=o=>u.status=o)},{default:s(()=>[t(_,{label:0},{default:s(()=>[se]),_:1}),t(_,{label:1},{default:s(()=>[le]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},512)])}}}),pe=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as _,pe as e,ce as s};
