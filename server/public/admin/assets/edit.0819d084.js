var $=Object.defineProperty,h=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var b=(e,u,t)=>u in e?$(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,V=(e,u)=>{for(var t in u||(u={}))R.call(u,t)&&b(e,t,u[t]);if(g)for(var t of g(u))j.call(u,t)&&b(e,t,u[t]);return e},w=(e,u)=>h(e,L(u));import{M}from"./index.f6dd0e9d.js";import{F as N}from"./index.9b142dae.js";import{_ as S,u as z,m as T,n as G,k as H,o as I}from"./index.70fc6efa.js";import{d as J,q as D,j as K,a5 as O,r as P,o as Q,a as s,a8 as W,b as F,c as A,f as a,w as l,a9 as X,k as C,F as Y,g as Z,e as x,m as ee}from"./vendor.fcdc1dfd.js";import"./index.700e7071.js";import"./index.f3a5499d.js";const ue=J({components:{MaterialSelect:M,FooterBtns:N},setup(){const e=D(null),{router:u,route:t}=z(),d=K(()=>{var r;return(r=t.query)==null?void 0:r.id}),f=D(!1),c=D([]),{formData:m,rules:i}=O(P({formData:{account:"",name:"",role_id:"",avatar:"",password:"",password_confirm:"",disable:0,multipoint_login:0},rules:{account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],role_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:["blur"]}],password:[],password_confirm:[]}})),p=()=>{T({page_type:1}).then(r=>{c.value=r.lists})},n=()=>{if(!d.value){i.value.password=[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:["blur"]}],i.value.password_confirm=[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",trigger:["blur"]}];return}f.value=!0,G({id:d.value}).then(r=>{m.value=r}).finally(()=>{f.value=!1})},_=()=>{var r;(r=e.value)==null||r.validate(v=>{if(!v)return;(d.value?H(w(V({},m.value),{id:d.value})):I(m.value)).then(()=>{setTimeout(()=>u.go(-1),500)})})};return Q(()=>{n(),p()}),{id:d,formRefs:e,loading:f,formData:m,rules:i,roleList:c,onSubmit:_}}}),ae={class:"admin"},oe=x("div",{class:"muted"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A100*100px\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),le=ee("\u4FDD\u5B58");function te(e,u,t,d,f,c){const m=s("el-page-header"),i=s("el-card"),p=s("el-input"),n=s("el-form-item"),_=s("material-select"),r=s("el-option"),v=s("el-select"),B=s("el-switch"),k=s("el-form"),E=s("el-button"),U=s("footer-btns"),q=W("loading");return F(),A("div",ae,[a(i,{shadow:"never"},{default:l(()=>[a(m,{content:e.id?"\u7F16\u8F91\u7BA1\u7406\u5458":"\u65B0\u589E\u7BA1\u7406\u5458",onBack:u[0]||(u[0]=o=>e.$router.back())},null,8,["content"])]),_:1}),X((F(),C(i,{shadow:"never",class:"m-t-15"},{default:l(()=>[a(k,{ref:"formRefs",rules:e.rules,class:"ls-form",model:e.formData,"label-width":"150px",size:"small"},{default:l(()=>[a(n,{label:"\u8D26\u53F7\uFF1A",prop:"account"},{default:l(()=>[a(p,{modelValue:e.formData.account,"onUpdate:modelValue":u[1]||(u[1]=o=>e.formData.account=o),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u5934\u50CF\uFF1A"},{default:l(()=>[a(_,{modelValue:e.formData.avatar,"onUpdate:modelValue":u[2]||(u[2]=o=>e.formData.avatar=o),limit:1},null,8,["modelValue"]),oe]),_:1}),a(n,{label:"\u540D\u79F0\uFF1A",prop:"name"},{default:l(()=>[a(p,{modelValue:e.formData.name,"onUpdate:modelValue":u[3]||(u[3]=o=>e.formData.name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u89D2\u8272\uFF1A",prop:"role_id"},{default:l(()=>[a(v,{modelValue:e.formData.role_id,"onUpdate:modelValue":u[4]||(u[4]=o=>e.formData.role_id=o),placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272"},{default:l(()=>[(F(!0),A(Y,null,Z(e.roleList,(o,y)=>(F(),C(r,{key:y,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"\u5BC6\u7801\uFF1A",prop:"password"},{default:l(()=>[a(p,{modelValue:e.formData.password,"onUpdate:modelValue":u[5]||(u[5]=o=>e.formData.password=o),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u786E\u8BA4\u5BC6\u7801\uFF1A",prop:"password_confirm"},{default:l(()=>[a(p,{modelValue:e.formData.password_confirm,"onUpdate:modelValue":u[6]||(u[6]=o=>e.formData.password_confirm=o),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u7BA1\u7406\u5458\u72B6\u6001"},{default:l(()=>[a(B,{modelValue:e.formData.disable,"onUpdate:modelValue":u[7]||(u[7]=o=>e.formData.disable=o),"active-value":0,"inactive-value":1},null,8,["modelValue"])]),_:1}),a(n,{label:"\u652F\u6301\u591A\u5904\u767B\u5F55"},{default:l(()=>[a(B,{modelValue:e.formData.multipoint_login,"onUpdate:modelValue":u[8]||(u[8]=o=>e.formData.multipoint_login=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1})),[[q,e.loading]]),a(U,null,{default:l(()=>[a(E,{type:"primary",size:"small",onClick:e.onSubmit},{default:l(()=>[le]),_:1},8,["onClick"])]),_:1})])}var fe=S(ue,[["render",te]]);export{fe as default};
