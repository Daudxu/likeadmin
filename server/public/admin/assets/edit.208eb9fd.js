var q=Object.defineProperty,y=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var b=(e,u,t)=>u in e?q(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,V=(e,u)=>{for(var t in u||(u={}))N.call(u,t)&&b(e,t,u[t]);if(g)for(var t of g(u))R.call(u,t)&&b(e,t,u[t]);return e},w=(e,u)=>y(e,$(u));import{M}from"./index.0cbc9a7a.js";import{F as S}from"./index.2b7257fb.js";import{_ as j,d as z,r as D,u as P,c as T,P as O,a as Z,o as G,e as s,aN as H,f as F,g as A,i as a,w as l,b8 as I,a8 as C,bN as J,bO as K,bL as Q,bP as W,Z as X,aL as Y,h as x,k as ee}from"./index.ad674b07.js";import"./index.c754d2be.js";import"./index.a7401286.js";const ue=z({components:{MaterialSelect:M,FooterBtns:S},setup(){const e=D(null),{router:u,route:t}=P(),d=T(()=>{var r;return(r=t.query)==null?void 0:r.id}),f=D(!1),c=D([]),{formData:i,rules:m}=O(Z({formData:{account:"",name:"",role_id:"",avatar:"",password:"",password_confirm:"",disable:0,multipoint_login:0},rules:{account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],role_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:["blur"]}],password:[],password_confirm:[]}})),p=()=>{J({page_type:1}).then(r=>{c.value=r.lists})},n=()=>{if(!d.value){m.value.password=[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:["blur"]}],m.value.password_confirm=[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",trigger:["blur"]}];return}f.value=!0,K({id:d.value}).then(r=>{i.value=r}).finally(()=>{f.value=!1})},_=()=>{var r;(r=e.value)==null||r.validate(v=>{if(!v)return;(d.value?Q(w(V({},i.value),{id:d.value})):W(i.value)).then(()=>{setTimeout(()=>u.go(-1),500)})})};return G(()=>{n(),p()}),{id:d,formRefs:e,loading:f,formData:i,rules:m,roleList:c,onSubmit:_}}}),ae={class:"admin"},oe=x("div",{class:"muted"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A100*100px\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),le=ee("\u4FDD\u5B58");function te(e,u,t,d,f,c){const i=s("el-page-header"),m=s("el-card"),p=s("el-input"),n=s("el-form-item"),_=s("material-select"),r=s("el-option"),v=s("el-select"),B=s("el-switch"),E=s("el-form"),k=s("el-button"),U=s("footer-btns"),L=H("loading");return F(),A("div",ae,[a(m,{shadow:"never"},{default:l(()=>[a(i,{content:e.id?"\u7F16\u8F91\u7BA1\u7406\u5458":"\u65B0\u589E\u7BA1\u7406\u5458",onBack:u[0]||(u[0]=o=>e.$router.back())},null,8,["content"])]),_:1}),I((F(),C(m,{shadow:"never",class:"m-t-15"},{default:l(()=>[a(E,{ref:"formRefs",rules:e.rules,class:"ls-form",model:e.formData,"label-width":"150px",size:"small"},{default:l(()=>[a(n,{label:"\u8D26\u53F7\uFF1A",prop:"account"},{default:l(()=>[a(p,{modelValue:e.formData.account,"onUpdate:modelValue":u[1]||(u[1]=o=>e.formData.account=o),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u5934\u50CF\uFF1A"},{default:l(()=>[a(_,{modelValue:e.formData.avatar,"onUpdate:modelValue":u[2]||(u[2]=o=>e.formData.avatar=o),limit:1},null,8,["modelValue"]),oe]),_:1}),a(n,{label:"\u540D\u79F0\uFF1A",prop:"name"},{default:l(()=>[a(p,{modelValue:e.formData.name,"onUpdate:modelValue":u[3]||(u[3]=o=>e.formData.name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u89D2\u8272\uFF1A",prop:"role_id"},{default:l(()=>[a(v,{modelValue:e.formData.role_id,"onUpdate:modelValue":u[4]||(u[4]=o=>e.formData.role_id=o),placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272"},{default:l(()=>[(F(!0),A(X,null,Y(e.roleList,(o,h)=>(F(),C(r,{key:h,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"\u5BC6\u7801\uFF1A",prop:"password"},{default:l(()=>[a(p,{modelValue:e.formData.password,"onUpdate:modelValue":u[5]||(u[5]=o=>e.formData.password=o),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u786E\u8BA4\u5BC6\u7801\uFF1A",prop:"password_confirm"},{default:l(()=>[a(p,{modelValue:e.formData.password_confirm,"onUpdate:modelValue":u[6]||(u[6]=o=>e.formData.password_confirm=o),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u7BA1\u7406\u5458\u72B6\u6001"},{default:l(()=>[a(B,{modelValue:e.formData.disable,"onUpdate:modelValue":u[7]||(u[7]=o=>e.formData.disable=o),"active-value":0,"inactive-value":1},null,8,["modelValue"])]),_:1}),a(n,{label:"\u652F\u6301\u591A\u5904\u767B\u5F55"},{default:l(()=>[a(B,{modelValue:e.formData.multipoint_login,"onUpdate:modelValue":u[8]||(u[8]=o=>e.formData.multipoint_login=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1})),[[L,e.loading]]),a(U,null,{default:l(()=>[a(k,{type:"primary",size:"small",onClick:e.onSubmit},{default:l(()=>[le]),_:1},8,["onClick"])]),_:1})])}var pe=j(ue,[["render",te]]);export{pe as default};
