import{_ as O,d as T,r as s,j as z,l as G,o as n,c as F,a as u,w as o,h as t,e as h,f as i,V as E,bR as x,i as g,bO as J,bN as K,g as V,E as Q}from"./index.f6e05cbe.js";import{E as W,a as X}from"./el-form-item.6d0ed898.js";import{E as Y}from"./el-switch.a391b723.js";import{E as Z}from"./el-input.55902c84.js";import"./el-tag.0d2c783e.js";import{E as ee,a as ae}from"./el-select.4dd1729b.js";import{E as le}from"./el-radio.04ab287b.js";import{E as te}from"./el-card.01b90c99.js";import{E as ue}from"./el-page-header.382d85fe.js";import{l as oe,f as ne,m as se,n as re}from"./decoration.8cabdb99.js";import{F as de}from"./index.aebb84f9.js";import{_ as ie}from"./index.6c4febf5.js";import"./isEqual.ce830c27.js";import"./validator.53e30ffc.js";import"./event.776e7e11.js";import"./index.42c14e2a.js";import"./index.e94fc8c2.js";import"./scroll.8d302e3e.js";import"./index.04796e48.js";import"./el-overlay.b28b5fac.js";import"./material.e3d19af3.js";import"./el-loading.8596fac6.js";import"./index.efc5949b.js";import"./el-table-column.2d4289c5.js";import"./el-checkbox.63373ee7.js";import"./el-tree.9509dcae.js";import"./el-popover.1d532e47.js";import"./pages.9343f4a5.js";import"./el-image-viewer.7be667db.js";const me=m=>(J("data-v-42877db4"),m=m(),K(),m),pe=me(()=>h("div",{class:"muted"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A\u5BBD200*\u9AD8200\u50CF\u7D20\u7684jpg\uFF0Cjpeg\uFF0Cpng\uFF0Cgif\u56FE\u7247",-1)),_e=V("\u5546\u57CE\u9875\u9762"),ce=V("\u81EA\u5B9A\u4E49\u94FE\u63A5"),ve=V("\u4FDD\u5B58"),fe=T({__name:"home_edit",setup(m){const b=s(),{router:y,route:U}=z(),p=U.query.id;let e=s({name:"",image:"",link_type:1,link_address:"",sort:0,status:1}),B=s([]),S=s([]);const _=s(""),c=s(""),v=s(""),H=G({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"}],link_address:[{required:!0,message:"\u94FE\u63A5\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:[]}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001",trigger:"change"}]}),I=async r=>{switch(e.value=await oe({id:r}),e.value.link_type){case 1:_.value=e.value.link_address;break;case 2:c.value=e.value.link_address;break;case 3:v.value=e.value.link_address;break}},M=async()=>{B.value=await ne()},N=async()=>{await se({...e.value}),y.back()},P=async()=>{await re({...e.value}),y.back()},q=r=>{switch(e.value.link_type){case 1:e.value.link_address=_.value;break;case 2:e.value.link_address=c.value;break;case 3:e.value.link_address=v.value;break}!r||r.validate(l=>{if(!l)return!1;p?P():N()})};return p&&I(p),M(),(r,l)=>{const L=ue,D=te,f=Z,d=W,w=le,A=ee,C=ae,R=Y,j=X,$=Q;return n(),F(E,null,[u(D,{shadow:"never"},{default:o(()=>[u(L,{content:t(p)?"\u7F16\u8F91\u83DC\u5355":"\u65B0\u589E\u83DC\u5355",onBack:l[0]||(l[0]=a=>r.$router.back())},null,8,["content"])]),_:1}),u(j,{ref_key:"formRef",ref:b,model:t(e),rules:H,"label-width":"120px",class:"formData"},{default:o(()=>[u(D,{shadow:"never",style:{"margin-top":"15px"}},{default:o(()=>[u(d,{label:"\u83DC\u5355\u540D\u79F0:",prop:"name"},{default:o(()=>[u(f,{class:"ls-input",modelValue:t(e).name,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).name=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(d,{label:"\u56FE\u6807:"},{default:o(()=>[u(ie,{modelValue:t(e).image,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).image=a),limit:1},null,8,["modelValue"]),pe]),_:1}),u(d,{label:"\u94FE\u63A5\u5730\u5740:",prop:"link_address"},{default:o(()=>[u(w,{modelValue:t(e).link_type,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).link_type=a),name:"1",label:1},{default:o(()=>[_e]),_:1},8,["modelValue"]),u(w,{modelValue:t(e).link_type,"onUpdate:modelValue":l[4]||(l[4]=a=>t(e).link_type=a),name:"3",label:3},{default:o(()=>[ce]),_:1},8,["modelValue"]),h("div",null,[t(e).link_type===1?(n(),i(C,{key:0,modelValue:_.value,"onUpdate:modelValue":l[5]||(l[5]=a=>_.value=a),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(n(!0),F(E,null,x(t(B),(a,k)=>(n(),i(A,{key:k,label:a.name,value:a.index},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):g("",!0),t(e).link_type===2?(n(),i(C,{key:1,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=a=>c.value=a),class:"ls-input",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(n(!0),F(E,null,x(t(S),(a,k)=>(n(),i(A,{key:k,label:a.name,value:a.id+""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):g("",!0),t(e).link_type===3?(n(),i(f,{key:2,class:"ls-input",modelValue:v.value,"onUpdate:modelValue":l[7]||(l[7]=a=>v.value=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])):g("",!0)])]),_:1}),u(d,{label:"\u6392\u5E8F:"},{default:o(()=>[u(f,{class:"ls-input",modelValue:t(e).sort,"onUpdate:modelValue":l[8]||(l[8]=a=>t(e).sort=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),u(d,{label:"\u72B6\u6001:",prop:"status"},{default:o(()=>[u(R,{modelValue:t(e).status,"onUpdate:modelValue":l[9]||(l[9]=a=>t(e).status=a),"active-text":t(e).status?"\u542F\u7528":"\u5173\u95ED","active-value":1,"inactive-value":0},null,8,["modelValue","active-text"])]),_:1})]),_:1})]),_:1},8,["model","rules"]),u(de,null,{default:o(()=>[u($,{type:"primary",onClick:l[10]||(l[10]=a=>q(b.value))},{default:o(()=>[ve]),_:1})]),_:1})],64)}}});var Ge=O(fe,[["__scopeId","data-v-42877db4"]]);export{Ge as default};
