var ae=Object.defineProperty,ce=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var q=(e,t,o)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,x=(e,t)=>{for(var o in t||(t={}))le.call(t,o)&&q(e,o,t[o]);if(U)for(var o of U(t))de.call(t,o)&&q(e,o,t[o]);return e},z=(e,t)=>ce(e,ue(t));import{d as g,r as _e,o as K,a as l,b as c,c as m,e as i,f as u,w as d,t as f,F as C,g as L,h as F,p as W,i as H,j as b,k as w,n as G,l as pe,m as V,q as J,s as me,R as O,u as fe,v as he,E as j,x as ve,y as ge,z as ye,A as $e,B as be,C as we,K as Ee,D as Fe,N as M,G as ke,H as Ae,I as Q,J as De,U as Ce,L as Be,M as xe,O as Pe,P as Ie,Q as Se,S as Le,T as Oe,V as je,W as Re,X as Te}from"./vendor.af1b6401.js";const Ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}};Ne();const Ve={token:e=>e.user.token,userInfo:e=>e.user.user,config:e=>e.app.config,permission:e=>e.permission.permission,isAdmin:e=>e.permission.isAdmin},Me=1,Ue="1.0.0";function qe(e,t=1e3,o){let n=new Date(0).getTime();return function(...s){let a=new Date().getTime();if(a-n>t)return n=a,e.apply(o,s)}}function ze(e=[],t=[],o="children"){return e.forEach(n=>{const s=n[o];s?ze(s,t,o):t.push(n)}),t}const Ke="modulepreload",X={},We="/admin/",k=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${We}${n}`,n in X)return;X[n]=!0;const s=n.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":Ke,s||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),s)return new Promise((p,v)=>{r.addEventListener("load",p),r.addEventListener("error",v)})})).then(()=>t())};function He(){return _.get("/Workbench/index")}var y=(e,t)=>{const o=e.__vccOpts||e;for(const[n,s]of t)o[n]=s;return o};const Ge=g({setup(){const e=_e({version:{version:"",website:""},today:{},menu:[],visitor:[],article:[],visitorOption:{xAxis:{type:"category",data:[0]},yAxis:{type:"value"},legend:{data:["\u8BBF\u95EE\u91CF"]},itemStyle:{color:"red"},tooltip:{trigger:"axis"},series:[{name:"\u8BBF\u95EE\u91CF",data:[0],type:"line"}]}}),t=()=>{He().then(o=>{console.log("res",o),e.version=o.version,e.today=o.today,e.menu=o.menu,e.visitor=o.visitor,e.article=o.article,e.visitorOption.xAxis.data=[],e.visitorOption.series[0].data=[],o.visitor.date.reverse().forEach(n=>{e.visitorOption.xAxis.data.push(n)}),o.visitor.list[0].data.forEach(n=>{e.visitorOption.series[0].data.push(n)})}).catch(o=>{console.log("err",o)})};return K(()=>{t()}),{workbenchData:e,getWorkbench:t}}}),A=e=>(W("data-v-4fec0f0e"),e=e(),H(),e),Je={class:"workbench"},Qe={class:"flex workbench-header"},Xe=A(()=>i("span",{class:"card-title"},"\u8D26\u53F7\u4FE1\u606F",-1)),Ye={class:"m-b-20"},Ze=A(()=>i("span",{class:"card-title"},"\u4ECA\u65E5\u6570\u636E",-1)),et={class:"muted xs m-l-15"},tt={class:"flex"},ot={class:"flex-1"},nt=A(()=>i("div",{class:"lighter m-b-10"},"\u8BBF\u95EE\u91CF",-1)),st={class:"f-s-32 m-b-10"},rt={class:"lighter"},it={class:"flex-1"},at=A(()=>i("div",{class:"lighter m-b-10"},"\u9500\u552E\u989D",-1)),ct={class:"f-s-32 m-b-10"},ut={class:"lighter"},lt={class:"flex-1"},dt=A(()=>i("div",{class:"lighter m-b-10"},"\u65B0\u589E\u7528\u6237",-1)),_t={class:"f-s-32 m-b-10"},pt={class:"lighter"},mt={class:"m-t-15 function"},ft=A(()=>i("span",{class:"card-title"},"\u5E38\u7528\u529F\u80FD",-1)),ht={class:"nav-lists"},vt={class:"m-t-8 normal"},gt={class:"flex m-t-15 ranking"},yt=A(()=>i("span",{class:"card-title"},"\u8BBF\u95EE\u91CF\u8D8B\u52BF\u56FE",-1)),$t={class:"ranking-centent"},bt=A(()=>i("div",null,[i("span",{class:"card-title"},"\u6587\u7AE0\u9605\u8BFB\u91CF\u6392\u540D")],-1)),wt={class:"ranking-centent"},Et={key:0,class:"icon",style:{background:"#F86056",color:"#fff"}},Ft={key:1,class:"icon",style:{background:"#FC8D2E",color:"#fff"}},kt={key:2,class:"icon",style:{background:"#FCBC2E",color:"#fff"}},At={key:3,class:"icon"};function Dt(e,t,o,n,s,a){const r=l("el-card"),p=l("el-image"),v=l("router-link"),D=l("v-chart"),$=l("el-table-column"),B=l("el-table");return c(),m("div",Je,[i("div",Qe,[u(r,{class:"flex-1",shadow:"never"},{header:d(()=>[Xe]),default:d(()=>[i("div",null,[i("div",Ye,"\u7248\u672C\u53F7\uFF1A"+f(e.workbenchData.version.version),1),i("div",null,"\u5B98\u7F51\u5730\u5740\uFF1A"+f(e.workbenchData.version.website),1)])]),_:1}),u(r,{class:"flex-3 m-l-15",shadow:"never"},{header:d(()=>[i("div",null,[Ze,i("span",et,"\u66F4\u65B0\u65F6\u95F4\uFF1A"+f(e.workbenchData.today.time),1)])]),default:d(()=>[i("div",tt,[i("div",ot,[nt,i("div",st,f(e.workbenchData.today.today_visitor),1),i("div",rt,"\u603B\u8BBF\u95EE\u91CF\uFF1A"+f(e.workbenchData.today.total_visitor),1)]),i("div",it,[at,i("div",ct,f(e.workbenchData.today.today_sales),1),i("div",ut,"\u603B\u9500\u552E\u989D\uFF1A"+f(e.workbenchData.today.total_sales),1)]),i("div",lt,[dt,i("div",_t,f(e.workbenchData.today.today_new_user),1),i("div",pt,"\u603B\u8BBF\u7528\u6237\uFF1A"+f(e.workbenchData.today.total_new_user),1)])])]),_:1})]),i("div",mt,[u(r,{class:"flex-1",shadow:"never"},{header:d(()=>[ft]),default:d(()=>[i("div",ht,[(c(!0),m(C,null,L(e.workbenchData.menu,h=>(c(),m("div",{class:"nav-item flex flex-col flex-center m-t-10",key:h},[u(v,{to:h.url},{default:d(()=>[u(p,{style:{width:"48px",height:"48px"},src:h.image},null,8,["src"]),i("div",vt,f(h.name),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),i("div",gt,[u(r,{class:"flex-1",shadow:"never"},{header:d(()=>[yt]),default:d(()=>[i("div",$t,[u(D,{class:"chart",option:e.workbenchData.visitorOption},null,8,["option"])])]),_:1}),u(r,{class:"flex-1 m-l-15",shadow:"never"},{header:d(()=>[bt]),default:d(()=>[i("div",wt,[u(B,{data:e.workbenchData.article,size:"medium"},{default:d(()=>[u($,{label:"\u6392\u540D","min-width":"70",type:"index"},{default:d(h=>[h.$index==0?(c(),m("div",Et,f(h.$index+1),1)):F("",!0),h.$index==1?(c(),m("div",Ft,f(h.$index+1),1)):F("",!0),h.$index==2?(c(),m("div",kt,f(h.$index+1),1)):F("",!0),h.$index>2?(c(),m("div",At,f(h.$index+1),1)):F("",!0)]),_:1}),u($,{prop:"name",label:"\u6587\u7AE0\u540D\u79F0"}),u($,{prop:"read",label:"\u9605\u8BFB\u91CF"})]),_:1},8,["data"])])]),_:1})])])}var Ct=y(Ge,[["render",Dt],["__scopeId","data-v-4fec0f0e"]]);const Bt=g({components:{},props:{route:{type:Object,default:()=>({})}},setup(e){return{hasChildren:b(()=>{var n;return!!((n=e.route.children)!=null?n:[]).filter(s=>{var a;return!((a=s.meta)==null?void 0:a.hidden)}).length})}}});function xt(e,t,o,n,s,a){const r=l("el-sub-menu"),p=l("el-menu-item");return e.route.meta.hidden?F("",!0):(c(),m(C,{key:0},[e.hasChildren?(c(),w(r,{key:0,index:e.route.path},{title:d(()=>[i("i",{class:G(["iconfont m-r-10",e.route.meta.icon])},null,2),i("span",null,f(e.route.meta.title),1)]),default:d(()=>[pe(e.$slots,"default")]),_:3},8,["index"])):(c(),w(p,{key:1,index:e.route.path},{default:d(()=>[i("i",{class:G(["iconfont m-r-10",e.route.meta.icon])},null,2),i("span",null,f(e.route.meta.title),1)]),_:1},8,["index"]))],64))}var Pt=y(Bt,[["render",xt]]);const It=g({components:{SubMenu:Pt},setup(){const{store:e,route:t}=I(),o=b(()=>e.state.permission.sidebar),n=b(()=>{var a,r;return(r=(a=t.meta)==null?void 0:a.parent)!=null?r:t.path});return{config:b(()=>e.getters.config),sidebar:o,currentPath:n}}}),St={class:"layout-aside"},Lt=["src"],Ot={class:"line-1"},jt={class:"scrollbar-wrap"};function Rt(e,t,o,n,s,a){const r=l("router-link"),p=l("sub-menu"),v=l("el-menu"),D=l("el-scrollbar");return c(),m("div",St,[u(r,{to:"/workbench",class:"logo flex col-center"},{default:d(()=>[i("img",{class:"logo-img",src:e.config.web_logo,alt:""},null,8,Lt),i("div",Ot,f(e.config.web_name),1)]),_:1}),i("div",jt,[u(D,{style:{height:"100%"},class:"ls-scrollbar"},{default:d(()=>[u(v,{"active-text-color":"#fff","background-color":"#2a2c41","default-active":e.currentPath,"text-color":"#E5E5E5",router:""},{default:d(()=>[(c(!0),m(C,null,L(e.sidebar,($,B)=>(c(),w(p,{key:B,route:$},{default:d(()=>[(c(!0),m(C,null,L($==null?void 0:$.children,(h,se)=>(c(),w(p,{key:se,route:h},{default:d(()=>[(c(!0),m(C,null,L(h==null?void 0:h.children,(re,ie)=>(c(),w(p,{key:ie,route:re},null,8,["route"]))),128))]),_:2},1032,["route"]))),128))]),_:2},1032,["route"]))),128))]),_:1},8,["default-active"])]),_:1})])])}var Tt=y(It,[["render",Rt],["__scopeId","data-v-8f67e68c"]]),Nt="/admin/assets/no_perm.c6e79b52.png";const Vt=g({components:{},props:{},setup(e){const{store:t,route:o}=I(),n=b(()=>t.getters.permission),s=b(()=>t.getters.isAdmin),a=b(()=>{const{path:r,meta:p}=o;if(s.value)return!0;const v=n.value[r];return console.log(n.value,r),!v||!(p==null?void 0:p.permission)?!0:v.some(D=>(p==null?void 0:p.permission).includes(D))});return{permission:n,hasPermission:a}}}),Y=e=>(W("data-v-0ba39355"),e=e(),H(),e),Mt={key:0,class:"perm"},Ut={key:1,class:"no-perm flex flex-col flex-center"},qt=Y(()=>i("img",{src:Nt},null,-1)),zt=Y(()=>i("div",{class:"muted"},"\u6682\u65E0\u67E5\u770B\u6743\u9650",-1)),Kt=[qt,zt];function Wt(e,t,o,n,s,a){const r=l("router-view");return e.permission?(c(),m("div",Mt,[e.hasPermission?(c(),w(r,{key:0})):(c(),m("div",Ut,Kt))])):F("",!0)}var Ht=y(Vt,[["render",Wt],["__scopeId","data-v-0ba39355"]]);const Gt=g({components:{Perm:Ht}}),Jt={class:"layout-main"},Qt={class:"p-15"};function Xt(e,t,o,n,s,a){const r=l("perm"),p=l("el-scrollbar");return c(),m("div",Jt,[u(p,null,{default:d(()=>[i("div",Qt,[u(r)])]),_:1})])}var Yt=y(Gt,[["render",Xt],["__scopeId","data-v-37f2b57a"]]);const Zt=g({setup(){const{store:e,router:t}=I();return{userInfo:b(()=>e.getters.userInfo),handleCommand:s=>{switch(s){case"logout":e.dispatch("user/logout").then(()=>{t.push("/login"),e.commit("permission/setPermission",{auth:null,root:0})})}}}}}),eo={class:"layout-header"},to={class:"admin-info flex flex-center m-l-40"},oo={class:"m-l-10"},no={class:"flex flex-center"},so=V("\u9000\u51FA\u767B\u5F55");function ro(e,t,o,n,s,a){const r=l("el-avatar"),p=l("arrow-down"),v=l("el-icon"),D=l("el-dropdown-item"),$=l("el-dropdown-menu"),B=l("el-dropdown");return c(),m("div",eo,[i("div",to,[u(r,{size:40,src:e.userInfo.avatar},null,8,["src"]),i("div",oo,[u(B,{trigger:"hover",onCommand:e.handleCommand},{dropdown:d(()=>[u($,null,{default:d(()=>[u(D,{command:"logout"},{default:d(()=>[so]),_:1})]),_:1})]),default:d(()=>[i("div",no,[V(f(e.userInfo.name)+" ",1),u(v,{class:"el-icon--right"},{default:d(()=>[u(p)]),_:1})])]),_:1},8,["onCommand"])])])])}var io=y(Zt,[["render",ro],["__scopeId","data-v-4fa9eb39"]]);const ao=g({components:{LayoutAside:Tt,LayoutMain:Yt,LayoutHeader:io}}),co={class:"layout"},uo={class:"aside"},lo={class:"main"};function _o(e,t,o,n,s,a){const r=l("layout-aside"),p=l("layout-header"),v=l("layout-main");return c(),m("div",co,[i("div",uo,[u(r)]),i("div",lo,[u(p),u(v)])])}var po=y(ao,[["render",_o]]);const mo=g({props:{code:Number,title:String},setup(){let e=null;const t=J(5),{router:o}=I();return e=setInterval(()=>{t.value===0?(clearInterval(e),o.go(-1)):t.value--},1e3),me(()=>{clearInterval(e)}),{second:t}}}),fo={class:"error"},ho={class:"error-code"},vo={class:"lg lighter m-t-30 m-b-30"};function go(e,t,o,n,s,a){const r=l("el-button");return c(),m("div",fo,[i("div",null,[i("div",ho,f(e.code),1),i("div",vo,f(e.title),1),u(r,{type:"primary",size:"small",onClick:t[0]||(t[0]=p=>e.$router.go(-1))},{default:d(()=>[V(f(e.second)+" \u79D2\u540E\u8FD4\u56DE\u4E0A\u4E00\u9875 ",1)]),_:1})])])}var Z=y(mo,[["render",go],["__scopeId","data-v-44e1cb40"]]);const yo=g({components:{Error:Z},setup(){}}),$o={class:"error404"};function bo(e,t,o,n,s,a){const r=l("error");return c(),m("div",$o,[u(r,{code:404,title:"\u54CE\u5440\uFF0C\u51FA\u9519\u4E86\uFF01\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728\u2026"})])}var wo=y(yo,[["render",bo]]);const Eo=g({components:{Error:Z},setup(){}}),Fo={class:"error500"};function ko(e,t,o,n,s,a){const r=l("error");return c(),m("div",Fo,[u(r,{code:500,title:"\u54CE\u5440\uFF0C\u51FA\u9519\u4E86\uFF01\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\u2026"})])}var Ao=y(Eo,[["render",ko]]);const Do={path:"/setting",redirect:"/setting",component:O,meta:{title:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:"icon-setting"},children:[{path:"/setting/website",redirect:"/setting/website/information",component:O,meta:{title:"\u7F51\u7AD9\u8BBE\u7F6E"},children:[{path:"/setting/website/information",component:()=>k(()=>import("./information.fc7f06b0.js"),["assets/information.fc7f06b0.js","assets/index.e1757491.js","assets/index.ea9e39bd.css","assets/vendor.af1b6401.js","assets/index.4b67b099.js","assets/index.9cd09a50.css","assets/index.95edb3d8.js","assets/index.a4714728.css","assets/setting.c980786d.js"]),meta:{title:"\u7F51\u7AD9\u4FE1\u606F",permission:["view"]}},{path:"/setting/website/filing",component:()=>k(()=>import("./filing.567fe5d8.js"),["assets/filing.567fe5d8.js","assets/setting.c980786d.js","assets/index.95edb3d8.js","assets/index.a4714728.css","assets/vendor.af1b6401.js"]),meta:{title:"\u5907\u6848\u4FE1\u606F",permission:["view"]}}]},{path:"/setting/system",redirect:"/setting/system/environment",component:O,meta:{title:"\u7CFB\u7EDF\u7EF4\u62A4"},children:[{path:"/setting/website/environment",component:()=>k(()=>import("./environment.13f65e44.js"),["assets/environment.13f65e44.js","assets/vendor.af1b6401.js","assets/setting.c980786d.js"]),meta:{title:"\u7CFB\u7EDF\u73AF\u5883",permission:["view"]}}]}]},Co={path:"/permission",redirect:"/permission/admin",component:O,meta:{title:"\u6743\u9650\u7BA1\u7406",icon:"icon-quanxian"},children:[{path:"/permission/admin",component:()=>k(()=>import("./index.566a21cc.js"),["assets/index.566a21cc.js","assets/index.a82d2a80.css","assets/index.4b67b099.js","assets/index.9cd09a50.css","assets/vendor.af1b6401.js"]),meta:{title:"\u7BA1\u7406\u5458",permission:["view"]}},{path:"/permission/admin/edit",component:()=>k(()=>import("./edit.6dd261fa.js"),["assets/edit.6dd261fa.js","assets/index.e1757491.js","assets/index.ea9e39bd.css","assets/vendor.af1b6401.js","assets/index.4b67b099.js","assets/index.9cd09a50.css","assets/index.95edb3d8.js","assets/index.a4714728.css"]),meta:{title:"\u7BA1\u7406\u5458",parent:"/permission/admin",hidden:!0}},{path:"/permission/role",component:()=>k(()=>import("./index.00626662.js"),["assets/index.00626662.js","assets/index.4b67b099.js","assets/index.9cd09a50.css","assets/vendor.af1b6401.js"]),meta:{title:"\u89D2\u8272",permission:["view"]}},{path:"/permission/role/edit",component:()=>k(()=>import("./edit.c2fca874.js"),["assets/edit.c2fca874.js","assets/edit.3751564e.css","assets/index.95edb3d8.js","assets/index.a4714728.css","assets/vendor.af1b6401.js"]),meta:{title:"\u89D2\u8272",parent:"/permission/role",hidden:!0}}]},ee=[{path:"/",redirect:"workbench",component:po,children:[{path:"/workbench",component:Ct,meta:{title:"\u5DE5\u4F5C\u53F0",icon:"icon-home",permission:["view"]}},Co,Do]}],Bo=[{path:"/login",component:()=>k(()=>import("./login.078873af.js"),["assets/login.078873af.js","assets/login.fea8ced5.css","assets/vendor.af1b6401.js"])},{path:"/error/500",component:Ao},{path:"/:pathMatch(.*)*",name:"404",component:wo}],P=fe({history:he("/admin/"),routes:[...ee,...Bo]}),R={key:"like_admin_",set(e,t,o){e=this.getKey(e);let n={expire:o?this.time()+o:"",value:t};typeof n=="object"&&(n=JSON.stringify(n));try{window.localStorage.setItem(e,n)}catch{return!1}},get(e){e=this.getKey(e);try{let t=window.localStorage.getItem(e);if(!t)return!1;const{value:o,expire:n}=JSON.parse(t);return n&&n<this.time()?(window.localStorage.removeItem(e),!1):o}catch{return!1}},time(){return Math.round(new Date().getTime()/1e3)},remove(e){e=this.getKey(e),window.localStorage.removeItem(e)},getKey(e){return this.key+e}},T="token",un="account",N={success:({show:e,msg:t,data:o})=>(e*1&&j({type:"success",message:t}),o),error:({show:e,msg:t})=>(e*1&&j({type:"error",message:t}),Promise.reject(t)),redirect:qe(()=>(E.commit("user/setToken",""),E.commit("user/setUser",{}),R.remove(T),P.push("/login"),Promise.reject())),page:({data:e})=>(window.location.href=e.url,e)},_=ve.create({baseURL:"/adminapi",timeout:60*1e3,headers:{"Content-Type":"application/json",version:Ue}});_.interceptors.request.use(e=>{const t=E.getters.token;return e.headers&&(e.headers.token=t),e},e=>Promise.reject(e));_.interceptors.response.use(e=>{switch(e.data.code){case 1:return N.success(e.data);case 0:return N.error(e.data);case-1:return N.redirect();case 2:return N.page(e.data)}},e=>(console.log(e),P.push("/500"),Promise.reject(e)));function ln(e){return _.post("/file/addCate",e)}function dn(e){return _.post("/file/editCate",e)}function _n(e){return _.post("/file/delCate",e)}function pn(e){return _.get("/file/listCate",{params:e})}function mn(e){return _.get("/file/lists",{params:e})}function fn(e){return _.post("/file/delete",e)}function hn(e){return _.post("/file/move",e)}function xo(){return _.get("/config/getConfig")}const Po={namespaced:!0,state:{config:{}},mutations:{setConfig(e,t){e.config=t}},actions:{getConfig({commit:e}){return new Promise((t,o)=>{xo().then(n=>{e("setConfig",n),t(n)})})}}};function vn(e){return _.get("/auth.admin/lists",{params:e})}function gn(e){return _.post("/auth.admin/add",e)}function yn(e){return _.post("/auth.admin/edit",e)}function $n(e){return _.post("/auth.admin/delete",e)}function bn(e){return _.get("/auth.admin/detail",{params:e})}function wn(e){return _.get("/auth.role/lists",{params:e})}function En(e){return _.post("/auth.role/add",x({},e))}function Fn(e){return _.post("/auth.role/edit",x({},e))}function kn(e){return _.post("/auth.role/delete",x({},e))}function An(e){return _.get("/auth.role/detail",{params:e})}function Dn(){return _.get("/config/getMenu")}function Io(){return _.get("/config/getAuth")}const So={namespaced:!0,state:{sidebar:[],permission:null,isAdmin:0},getters:{},mutations:{setSidebar(e,t){e.sidebar=t},setPermission(e,t){e.permission=t.auth,e.isAdmin=t.root}},actions:{getPermission({commit:e}){return new Promise((t,o)=>{Io().then(n=>{e("setPermission",n),t(n)}).catch(n=>{o(n)})})}}};function Lo(e){return _.post("/login/account",z(x({},e),{terminal:Me}))}function Oo(){return _.post("/login/logout")}function jo(){return _.get("/auth.admin/mySelf")}const Ro={namespaced:!0,state:{token:R.get(T)||"",user:{}},mutations:{setToken(e,t){e.token=t,R.set(T,t)},setUser(e,t){e.user=t}},actions:{login({commit:e},t){const{account:o,password:n}=t;return new Promise((s,a)=>{Lo({account:o.trim(),password:n}).then(r=>{e("setToken",r.token),s(r)}).catch(r=>{a(r)})})},logout({commit:e}){return new Promise((t,o)=>{Oo().then(n=>{e("setToken",""),e("setUser",{}),R.remove(T),t(n)}).catch(n=>{o(n)})})},getUser({commit:e}){return new Promise((t,o)=>{jo().then(n=>{e("setUser",n),t(n)}).catch(n=>{o(n)})})}}};var To={app:Po,permission:So,user:Ro};const No=ge({modules:To,getters:Ve}),te=Symbol("vue-store");function Vo(){return ye(te)}var E=No;function I(){const e=Vo(),t=$e(),o=be();return{store:e,route:t,router:o}}const Mo=g({setup(){const{store:e,route:t}=I(),o=J(!0),n=b(()=>t.meta.keepAlive);return we("reload",()=>{o.value=!1,Fe(()=>{o.value=!0})}),K(async()=>{e.dispatch("app/getConfig")}),{routerAlive:o,keepAlive:n}}});function Uo(e,t,o,n,s,a){const r=l("router-view");return c(),m(C,null,[(c(),w(Ee,null,[e.keepAlive&&e.routerAlive?(c(),w(r,{key:0})):F("",!0)],1024)),!e.keepAlive&&e.routerAlive?(c(),w(r,{key:0})):F("",!0)],64)}var qo=y(Mo,[["render",Uo]]);M.configure({showSpinner:!1});const oe="/login",zo="/",Ko=["/login"];P.beforeEach(async(e,t,o)=>{var s;M.start(),((s=e.meta)==null?void 0:s.title)&&(document.title=e.meta.title),E.getters.token?(E.getters.permission==null&&(E.commit("permission/setSidebar",ee[0].children),await E.dispatch("user/getUser"),await E.dispatch("permission/getPermission")),e.path===oe?o({path:zo}):o()):Ko.includes(e.path)?o():o({path:oe,query:{redirect:e.fullPath}})});P.afterEach(async(e,t)=>{M.done()});var Wo=e=>{e.use(ke,{zIndex:3e3,locale:Ae}),Object.keys(Q).forEach(t=>{e.component(t,Q[t])})};De([Be,xe,Pe,Ie,Se,Le,Oe,je]);var Ho=e=>{e.component("v-chart",Ce)};const Go="#2E54EB",Jo="#67c23a",Qo="#fb9400",Xo="#f56c6c",Yo="#909399",Zo="#333333",en="#666666",tn="#999999";var on={color_primary:Go,color_success:Jo,color_warning:Qo,color_danger:Xo,color_ingo:Yo,font_color_primary:Zo,font_color_regular:en,font_color_secondary:tn};(function(){const t=new Re(".copy-btn");t.on("success",o=>{j.success("\u590D\u5236\u6210\u529F"),o.clearSelection()}),t.on("error",o=>{console.error(o),j.success("\u590D\u5236\u5931\u8D25")})})();var nn={mounted:(e,t)=>{e.className=e.className+" copy-btn",e.setAttribute("data-clipboard-text",t.value)},updated:(e,t)=>{e.setAttribute("data-clipboard-text",t.value)}},sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nn});const ne={"./modules/copy.ts":sn};var rn=e=>{Object.keys(ne).forEach(t=>{const o=t.replace(/^\.\/(.*)\.\w+$/,"$1");e.directive(o,ne[t].default)})};const S=Te(qo);S.config.globalProperties.$variables=on;Wo(S);Ho(S);rn(S);S.use(P).use(E,te).mount("#app");export{un as A,y as _,ln as a,dn as b,R as c,_n as d,pn as e,fn as f,hn as g,mn as h,Vo as i,vn as j,yn as k,$n as l,wn as m,bn as n,gn as o,kn as p,Dn as q,_ as r,ze as s,En as t,I as u,Ue as v,Fn as w,An as x};
