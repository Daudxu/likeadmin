var Z=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var J=(r,s,d)=>s in r?Z(r,s,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[s]=d,M=(r,s)=>{for(var d in s||(s={}))I.call(s,d)&&J(r,d,s[d]);if(z)for(var d of z(s))K.call(s,d)&&J(r,d,s[d]);return r},P=(r,s)=>G(r,H(s));import{M as Q}from"./index.0444534a.js";import{F as W}from"./index.f76dfd80.js";import{d as X,r as v,u as Y,c as ee,P as ue,a as le,o as te,e as _,aN as ae,f as c,g,i as e,w as u,b8 as oe,a8 as B,bN as se,bO as ne,l as o,bJ as de,Z as y,aL as k,h as re,k as m,bL as ie,bP as pe}from"./index.2adab02f.js";import{a as me,b as _e}from"./organization.92f852cf.js";import"./index.e003eb45.js";import"./index.26066bcb.js";const ce={class:"admin"},fe=re("div",{class:"muted"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A100*100px\uFF0C\u652F\u6301jpg\uFF0Cjpeg\uFF0Cpng\u683C\u5F0F",-1),Fe=m("\u65B0\u589E\u90E8\u95E8"),ve=m("|"),be=m("\u5237\u65B0"),ge=m("\u65B0\u589E\u5C97\u4F4D"),Be=m("|"),Ve=m("\u5237\u65B0"),we=m("\u65B0\u589E\u89D2\u8272"),Ce=m("|"),Ee=m("\u5237\u65B0"),De=m("\u4FDD\u5B58"),je=X({setup(r){const s=v(null),{router:d,route:S}=Y(),f=ee(()=>{var n;return(n=S.query)==null?void 0:n.id}),V=v(!1),x=v([]),A=v([]),h=v([]),{formData:t,rules:w}=ue(le({formData:{account:"",name:"",role_id:"",avatar:"",password:"",password_confirm:"",disable:0,multipoint_login:0,dept_id:"",jobs_id:""},rules:{account:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],role_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:["blur"]}],password:[],password_confirm:[]}})),L=()=>{se({page_type:0}).then(n=>{x.value=n.lists})},U=()=>{me().then(n=>{A.value=n})},j=()=>{_e({page_type:0}).then(n=>{h.value=n.lists})},T=()=>{if(!f.value){w.value.password=[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:["blur"]}],w.value.password_confirm=[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801",trigger:["blur"]}];return}V.value=!0,ne({id:f.value}).then(n=>{t.value=n}).finally(()=>{V.value=!1})},$=()=>{var n;(n=s.value)==null||n.validate(a=>{if(!a)return;(f.value?ie(P(M({},t.value),{id:f.value})):pe(t.value)).then(()=>{setTimeout(()=>d.go(-1),500)})})};return te(()=>{T(),L(),U(),j()}),(n,a)=>{const q=_("el-page-header"),N=_("el-card"),b=_("el-input"),i=_("el-form-item"),C=_("el-option"),E=_("el-select"),p=_("el-button"),D=_("router-link"),R=_("el-switch"),O=ae("loading");return c(),g("div",ce,[e(N,{shadow:"never"},{default:u(()=>[e(q,{content:o(f)?"\u7F16\u8F91\u7BA1\u7406\u5458":"\u65B0\u589E\u7BA1\u7406\u5458",onBack:a[0]||(a[0]=l=>n.$router.back())},null,8,["content"])]),_:1}),oe((c(),B(N,{shadow:"never",class:"m-t-15"},{default:u(()=>[e(o(de),{ref_key:"formRefs",ref:s,rules:o(w),class:"ls-form",model:o(t),"label-width":"150px",size:"small"},{default:u(()=>[e(i,{label:"\u8D26\u53F7",prop:"account"},{default:u(()=>[e(b,{modelValue:o(t).account,"onUpdate:modelValue":a[1]||(a[1]=l=>o(t).account=l),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5934\u50CF"},{default:u(()=>[e(Q,{modelValue:o(t).avatar,"onUpdate:modelValue":a[2]||(a[2]=l=>o(t).avatar=l),limit:1},null,8,["modelValue"]),fe]),_:1}),e(i,{label:"\u540D\u79F0",prop:"name"},{default:u(()=>[e(b,{modelValue:o(t).name,"onUpdate:modelValue":a[3]||(a[3]=l=>o(t).name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5F52\u5C5E\u90E8\u95E8",prop:"dept_id"},{default:u(()=>[e(E,{modelValue:o(t).dept_id,"onUpdate:modelValue":a[4]||(a[4]=l=>o(t).dept_id=l),placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u90E8\u95E8"},{default:u(()=>[(c(!0),g(y,null,k(A.value,(l,F)=>(c(),B(C,{key:F,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(D,{to:"/organization/department",target:"_blank"},{default:u(()=>[e(p,{type:"text",style:{margin:"0 10px"}},{default:u(()=>[Fe]),_:1})]),_:1}),e(p,{type:"text"},{default:u(()=>[ve]),_:1}),e(p,{type:"text",onClick:U},{default:u(()=>[be]),_:1})]),_:1}),e(i,{label:"\u5C97\u4F4D",prop:"jobs_id"},{default:u(()=>[e(E,{modelValue:o(t).jobs_id,"onUpdate:modelValue":a[5]||(a[5]=l=>o(t).jobs_id=l),placeholder:"\u8BF7\u9009\u62E9\u5C97\u4F4D"},{default:u(()=>[(c(!0),g(y,null,k(h.value,(l,F)=>(c(),B(C,{key:F,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(D,{to:"/organization/post",target:"_blank"},{default:u(()=>[e(p,{type:"text",style:{margin:"0 10px"}},{default:u(()=>[ge]),_:1})]),_:1}),e(p,{type:"text"},{default:u(()=>[Be]),_:1}),e(p,{type:"text",onClick:j},{default:u(()=>[Ve]),_:1})]),_:1}),e(i,{label:"\u89D2\u8272",prop:"role_id"},{default:u(()=>[e(E,{modelValue:o(t).role_id,"onUpdate:modelValue":a[6]||(a[6]=l=>o(t).role_id=l),placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272"},{default:u(()=>[(c(!0),g(y,null,k(x.value,(l,F)=>(c(),B(C,{key:F,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(D,{to:"/permission/role",target:"_blank"},{default:u(()=>[e(p,{type:"text",style:{margin:"0 10px"}},{default:u(()=>[we]),_:1})]),_:1}),e(p,{type:"text"},{default:u(()=>[Ce]),_:1}),e(p,{type:"text",onClick:L},{default:u(()=>[Ee]),_:1})]),_:1}),e(i,{label:"\u5BC6\u7801",prop:"password"},{default:u(()=>[e(b,{modelValue:o(t).password,"onUpdate:modelValue":a[7]||(a[7]=l=>o(t).password=l),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"password_confirm"},{default:u(()=>[e(b,{modelValue:o(t).password_confirm,"onUpdate:modelValue":a[8]||(a[8]=l=>o(t).password_confirm=l),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u7BA1\u7406\u5458\u72B6\u6001"},{default:u(()=>[e(R,{modelValue:o(t).disable,"onUpdate:modelValue":a[9]||(a[9]=l=>o(t).disable=l),"active-value":0,"inactive-value":1},null,8,["modelValue"])]),_:1}),e(i,{label:"\u652F\u6301\u591A\u5904\u767B\u5F55"},{default:u(()=>[e(R,{modelValue:o(t).multipoint_login,"onUpdate:modelValue":a[10]||(a[10]=l=>o(t).multipoint_login=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1})),[[O,V.value]]),e(W,null,{default:u(()=>[e(p,{type:"primary",size:"small",onClick:$},{default:u(()=>[De]),_:1})]),_:1})])}}});export{je as default};
