import{d as e,z as a,aQ as t,m as s,A as r,W as l,o as u,e as i,h as o,b as c,w as d,a7 as n,g as m,l as f,t as p,c as _,F as g,J as x,H as y,r as h,a as v,y as w,k as b}from"./index.e62d9ee1.js";import{g as j,_ as k,a as O}from"./pay.a6d6e524.js";import{_ as R}from"./u-image.f525ea81.js";import{_ as A}from"./u-button.ec682791.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.2f5e915b.js";var E=C(e({__name:"payment_result",setup(e){const C={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},E=a(t.LOADING),I=a({id:"",from:""}),L=s({order:{}}),N=r((()=>{const e=!!L.pay_status;return C[e?"succeed":"waiting"]})),z=()=>{x({url:"/pages/index/index"})},D=()=>{if("recharge"===I.value.from)y({url:"/packages/pages/recharge/recharge"})};return l((async e=>{try{if(!e.id)throw new Error("订单不存在");I.value=e,await new Promise(((e,a)=>{j({order_id:I.value.id,from:I.value.from}).then((a=>{Object.assign(L,a),e(a)})).catch((e=>{a(e)}))})),E.value=t.NORMAL}catch(a){console.log(a),E.value=t.ERROR}})),(e,a)=>{const t=h(v("u-empty"),k),s=h(v("u-image"),R),r=w,l=b,x=h(v("u-button"),A),y=h(v("page-status"),O);return u(),i(g,null,[o(" 页面状态 "),c(y,{status:E.value},{error:d((()=>[c(t,{text:"订单不存在",mode:"order"})])),default:d((()=>[n("template",null,[c(l,{class:"payment-result p-[20rpx]"},{default:d((()=>[c(l,{class:"result bg-white p-[20rpx] rounded-md"},{default:d((()=>[c(l,{class:"flex flex-col items-center my-[40rpx]"},{default:d((()=>[o(" 支付状态图片 "),c(s,{class:"status-image",src:m(N).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),o(" 支付状态文字 "),c(r,{class:"text-2xl font-medium mt-[20rpx]"},{default:d((()=>[f(p(m(N).text),1)])),_:1}),c(l,{class:"text-3xl font-medium mt-[20rpx]"},{default:d((()=>[f(" ¥ "+p(L.order.order_amount),1)])),_:1})])),_:1}),o(" 支付信息 "),c(l,{class:"result-info"},{default:d((()=>[c(l,{class:"result-info__item"},{default:d((()=>[c(r,null,{default:d((()=>[f("订单编号")])),_:1}),c(r,null,{default:d((()=>[f(p(L.order.order_sn),1)])),_:1})])),_:1}),c(l,{class:"result-info__item"},{default:d((()=>[c(r,null,{default:d((()=>[f("付款时间")])),_:1}),c(r,null,{default:d((()=>[f(p(L.order.pay_time),1)])),_:1})])),_:1}),c(l,{class:"result-info__item"},{default:d((()=>[c(r,null,{default:d((()=>[f("支付方式")])),_:1}),L.pay_status?(u(),_(r,{key:0},{default:d((()=>[f(p(L.order.pay_way||"-"),1)])),_:1})):(u(),_(r,{key:1},{default:d((()=>[f("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),c(l,{class:"mt-[40rpx]"},{default:d((()=>[c(l,{class:"mb-[20rpx]"},{default:d((()=>["recharge"==I.value.from?(u(),_(x,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:D},{default:d((()=>[f(" 继续充值 ")])),_:1})):o("v-if",!0)])),_:1}),c(l,{class:"mb-[20rpx]"},{default:d((()=>[c(x,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:z},{default:d((()=>[f(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1},8,["status"])],2112)}}}),[["__scopeId","data-v-568aafa6"]]);export{E as default};
